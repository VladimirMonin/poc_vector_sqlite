# üîå –ü–æ–¥—Ñ–∞–∑–∞ 11.6: Guides (extending)

> –ì–∞–π–¥—ã –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–æ–≤—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ (LLM, Embedder, VectorStore, MCP)

---

## üéØ –¶–µ–ª—å

–ù–∞–ø–∏—Å–∞—Ç—å 4 –≥–∞–π–¥–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –¥–æ–±–∞–≤–ª—è—é—â–∏—Ö –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

---

## üìã –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

### 1. guides/extending/custom-llm-provider.md

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: semantic_core/interfaces/llm.py, infrastructure/llm/

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**

- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å BaseLLMProvider (–¥–∏–∞–≥—Ä–∞–º–º–∞)
- –ú–µ—Ç–æ–¥ generate(): –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—Ç
- GenerationResult DTO
- Mapping –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö API (—Ç–∞–±–ª–∏—Ü–∞)
- –ü—Ä–∏–º–µ—Ä: OpenAI GPT-4o (–ø—Å–µ–≤–¥–æ–∫–æ–¥)
- –ü—Ä–∏–º–µ—Ä: Anthropic Claude 3.5/4 (–ø—Å–µ–≤–¥–æ–∫–æ–¥)
- –ü—Ä–∏–º–µ—Ä: Ollama –ª–æ–∫–∞–ª—å–Ω—ã–π (–ø—Å–µ–≤–¥–æ–∫–æ–¥)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ SemanticCore

**–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤**:

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –ú–æ–¥–µ–ª–∏ |
|-----------|--------|
| Google | gemini-2.5-flash, gemini-2.5-pro, gemini-3.0-pro |
| OpenAI | gpt-4o, gpt-4o-mini, o1, o3 |
| Anthropic | claude-3.5-sonnet, claude-4-opus |
| Ollama | llama3.3, mistral, qwen2.5 |

**–î–∏–∞–≥—Ä–∞–º–º–∞**: Class ‚Äî BaseLLMProvider + 3 —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**Frontmatter tags**: `[extending, llm, openai, anthropic, ollama]`

---

### 2. guides/extending/custom-vector-store.md

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: semantic_core/interfaces/vector_store.py, infrastructure/storage/

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**

- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å BaseVectorStore (–¥–∏–∞–≥—Ä–∞–º–º–∞)
- 8 –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ç–∞–±–ª–∏—Ü–∞)
- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: FTS fallback, RRF on client
- Metadata filtering: —Ä–∞–∑–Ω—ã–µ API
- –ü—Ä–∏–º–µ—Ä: ChromaDB (–ø—Å–µ–≤–¥–æ–∫–æ–¥)
- –ü—Ä–∏–º–µ—Ä: Qdrant (–ø—Å–µ–≤–¥–æ–∫–æ–¥)
- –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É stores

**–î–∏–∞–≥—Ä–∞–º–º–∞**: Class ‚Äî BaseVectorStore + –º–µ—Ç–æ–¥—ã

**Frontmatter tags**: `[extending, vector-store, chromadb, qdrant, pinecone]`

---

### 3. guides/extending/custom-embedder.md

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: semantic_core/interfaces/embedder.py, infrastructure/gemini/embedder.py

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**

- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å BaseEmbedder (–¥–∏–∞–≥—Ä–∞–º–º–∞)
- embed_documents() vs embed_query()
- –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –∏ MRL

**–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ embedding –º–æ–¥–µ–ª–∏**:

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ |
|-----------|--------|-------------|
| Google | gemini-embedding-001 | 768 / 1536 / 3072 (MRL) |
| OpenAI | text-embedding-3-large | 256-3072 (MRL) |
| OpenAI | text-embedding-3-small | 512-1536 |
| Cohere | embed-v4 | 1024 |
| Local | sentence-transformers | 384-1024 |

- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤
- –ü—Ä–∏–º–µ—Ä: OpenAI Embeddings (–ø—Å–µ–≤–¥–æ–∫–æ–¥)
- –ü—Ä–∏–º–µ—Ä: Cohere Embed (–ø—Å–µ–≤–¥–æ–∫–æ–¥)
- –ü—Ä–∏–º–µ—Ä: –õ–æ–∫–∞–ª—å–Ω—ã–π sentence-transformers (–ø—Å–µ–≤–¥–æ–∫–æ–¥)
- **–í–∞–∂–Ω–æ**: –≤—Å–µ embeddings –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–Ω–æ–π —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –≤ –ë–î

**–î–∏–∞–≥—Ä–∞–º–º–∞**: Class ‚Äî BaseEmbedder + —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**Frontmatter tags**: `[extending, embedder, openai, cohere, sentence-transformers, mrl]`

---

### 4. guides/extending/mcp-server.md

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: –ö–æ–Ω—Ü–µ–ø—Ü–∏—è MCP, —Ç–µ–∫—É—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**

- –ß—Ç–æ —Ç–∞–∫–æ–µ MCP (Model Context Protocol)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: SemanticCore –∫–∞–∫ backend –¥–ª—è MCP
- Tool definitions (JSON schema)
- –¢—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:
  - semantic_search(query, limit)
  - semantic_ingest(path, metadata)
  - semantic_chat(message, history)
- –ü—Ä–∏–º–µ—Ä —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ FastMCP (–ø—Å–µ–≤–¥–æ–∫–æ–¥)
- –ö–ª–∏–µ–Ω—Ç—ã: Claude Desktop, Cursor, custom
- Security considerations

**–î–∏–∞–≥—Ä–∞–º–º–∞**: Sequence ‚Äî MCP Client ‚Üí Server ‚Üí SemanticCore

**Frontmatter tags**: `[extending, mcp, tools, integration, ai-agents]`

---

## üìê –®–∞–±–ª–æ–Ω extending –≥–∞–π–¥–∞

```markdown
---
title: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ X"
description: "–ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å BaseX"
tags: [extending, x, ...]
difficulty: intermediate | advanced
interfaces: [BaseX]
---

## –ß—Ç–æ –ø–æ–ª—É—á–∏–º üéØ

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Y –≤–º–µ—Å—Ç–æ Z.

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å üìã

[PlantUML Class –¥–∏–∞–≥—Ä–∞–º–º–∞]

| –ú–µ—Ç–æ–¥ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----------|---------|----------|
| ... | ... | ... | ... |

## –ü–æ—à–∞–≥–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è üõ†Ô∏è

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å

```python
# –ü—Å–µ–≤–¥–æ–∫–æ–¥ (5-10 —Å—Ç—Ä–æ–∫)
```

### –®–∞–≥ 2: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã

...

### –®–∞–≥ 3: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å

...

## Mapping –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ üìä

| Semantic Core | Provider A | Provider B |
|---------------|------------|------------|
| ... | ... | ... |

## –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π üí°

### Provider A

[–ö—Ä–∞—Ç–∫–∏–π –ø—Å–µ–≤–¥–æ–∫–æ–¥]

### Provider B

[–ö—Ä–∞—Ç–∫–∏–π –ø—Å–µ–≤–¥–æ–∫–æ–¥]

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ

–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ ‚ö†Ô∏è

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| ... | ... | ... |

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã üîó

- [Concepts: Plugin System](../../concepts/10_plugin_system.md)

```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] 4 —Ñ–∞–π–ª–∞ —Å–æ–∑–¥–∞–Ω—ã
- [ ] Class –¥–∏–∞–≥—Ä–∞–º–º–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- [ ] –¢–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
- [ ] –ú–∏–Ω–∏–º—É–º 2 –ø—Ä–∏–º–µ—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- [ ] –ü—Å–µ–≤–¥–æ–∫–æ–¥, –Ω–µ –ø–æ–ª–Ω—ã–π –∫–æ–¥
- [ ] –°–µ–∫—Ü–∏—è "–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏"

---

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–¢—Ä–µ–±—É–µ—Ç**: 11.1 (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞), 11.3 (concepts/10_plugin_system.md)
**–ë–ª–æ–∫–∏—Ä—É–µ—Ç**: –ù–µ—Ç
