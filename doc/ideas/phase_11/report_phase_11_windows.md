# Phase 11: Windows Compatibility â€” Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚

> Ð”Ð°Ñ‚Ð°: 2025-12-04  
> Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: Ð’ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ  
> ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ: Windows 10/11, PowerShell 5.1

---

## ðŸ“‹ Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ

1. [ÐŸÑ€ÐµÐ´Ñ‹ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚](#Ð¿Ñ€ÐµÐ´Ñ‹ÑÑ‚Ð¾Ñ€Ð¸Ñ-Ð¸-ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚)
2. [ÐžÐ±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹](#Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ð½Ñ‹Ðµ-Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹)
3. [Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¸ Ñ…Ð¾Ñ‚Ñ„Ð¸ÐºÑÑ‹](#Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ-Ð¸-Ñ…Ð¾Ñ‚Ñ„Ð¸ÐºÑÑ‹)
4. [ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ CLI Ð½Ð° Windows](#Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸-cli-Ð½Ð°-windows)
5. [ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ](#ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ-Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ)
6. [Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ](#Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)
7. [Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹](#Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸-Ð´Ð»Ñ-Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹)
8. [ÐžÑÑ‚Ð°Ð²ÑˆÐ¸ÐµÑÑ Ð·Ð°Ð´Ð°Ñ‡Ð¸](#Ð¾ÑÑ‚Ð°Ð²ÑˆÐ¸ÐµÑÑ-Ð·Ð°Ð´Ð°Ñ‡Ð¸)
9. [Ð’Ñ‹Ð²Ð¾Ð´Ñ‹ Ð¸ ÑƒÑ€Ð¾ÐºÐ¸](#Ð²Ñ‹Ð²Ð¾Ð´Ñ‹-Ð¸-ÑƒÑ€Ð¾ÐºÐ¸)

---

## ÐŸÑ€ÐµÐ´Ñ‹ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚

### ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Windows?

Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Semantic Core Ð²ÐµÐ»Ð°ÑÑŒ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾ Ð½Ð° macOS. ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð´Ð¾ÑÑ‚Ð¸Ð³ ÑÑ‚Ð°Ð´Ð¸Ð¸ Ð·Ñ€ÐµÐ»Ð¾ÑÑ‚Ð¸ (Phase 11 â€” Documentation), Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ»Ð° Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ð¾ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚ÑŒ Ð½Ð° Windows â€” ÑÐ°Ð¼Ð¾Ð¹ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½Ñ‘Ð½Ð½Ð¾Ð¹ Ð´ÐµÑÐºÑ‚Ð¾Ð¿Ð½Ð¾Ð¹ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ðµ.

### Ð¦ÐµÐ»Ð¸ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ†ÐµÐ»ÑŒ â€” ÑƒÐ±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ CLI-Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ (`semantic ingest`, `semantic search`, `semantic chat`) Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ Ð² Windows-Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ð¸ Ð±ÐµÐ· Ð¼Ð¾Ð´Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¸ÑÑ…Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð°.

### Ð˜ÑÑ…Ð¾Ð´Ð½Ñ‹Ðµ ÑƒÑÐ»Ð¾Ð²Ð¸Ñ

- ÐžÐ¿ÐµÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°: Windows 10/11
- Ð¢ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»: PowerShell 5.1 (Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ð¹)
- Python: Ð¸Ð·Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾ 3.14.1 (latest)
- IDE: Visual Studio Code Ñ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸ÑÐ¼Ð¸ Python/Pylance

---

## ÐžÐ±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° â„–1: Python 3.14 Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð½Ð° Windows

#### Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹

ÐŸÑ€Ð¸ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ñ‡ÐµÑ€ÐµÐ· `uv sync` Ð²Ð¾Ð·Ð½Ð¸ÐºÐ°Ð»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° ÑÐ±Ð¾Ñ€ÐºÐ¸ Pillow:

```
Pillow 10.4.0 does not support Python 3.14 and does not provide prebuilt Windows binaries.
RequiredDependencyException: zlib
```

#### ÐšÐ¾Ñ€Ð½ÐµÐ²Ð°Ñ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð°

Python 3.14 Ð²Ñ‹ÑˆÐµÐ» Ð½ÐµÐ´Ð°Ð²Ð½Ð¾ (ÐºÐ¾Ð½ÐµÑ† 2025 Ð³Ð¾Ð´Ð°). ÐœÐ½Ð¾Ð³Ð¸Ðµ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ñ C-Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸ÑÐ¼Ð¸ (Pillow, imageio, numpy) ÐµÑ‰Ñ‘ Ð½Ðµ Ð¸Ð¼ÐµÑŽÑ‚ pre-built wheels Ð´Ð»Ñ ÑÑ‚Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð½Ð° Windows.

ÐÐ° macOS Ð¸ Linux ÑÑ‚Ð¸ Ð¿Ð°ÐºÐµÑ‚Ñ‹ ÐºÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€ÑƒÑŽÑ‚ÑÑ Ð¸Ð· Ð¸ÑÑ…Ð¾Ð´Ð½Ð¸ÐºÐ¾Ð², ÐµÑÐ»Ð¸ Ð½ÐµÑ‚ wheel. ÐÐ° Windows Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Visual Studio Build Tools, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð½Ðµ Ð²ÑÐµÐ³Ð´Ð° ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹ Ñƒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹.

#### ÐÐ½Ð°Ð»Ð¸Ð· Ð²Ð»Ð¸ÑÐ½Ð¸Ñ

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ â€” Ð±ÐµÐ· Pillow Ð½ÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾:
- ÐžÐ±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ (Vision API)
- Ð˜Ð·Ð²Ð»ÐµÐºÐ°Ñ‚ÑŒ ÐºÐ°Ð´Ñ€Ñ‹ Ð¸Ð· Ð²Ð¸Ð´ÐµÐ¾
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ media-Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸

#### Ð ÐµÑˆÐµÐ½Ð¸Ðµ

Ð˜Ð·Ð¼ÐµÐ½Ñ‘Ð½ Ñ„Ð°Ð¹Ð» `pyproject.toml`:

**Ð‘Ñ‹Ð»Ð¾:** `requires-python = ">=3.14"`  
**Ð¡Ñ‚Ð°Ð»Ð¾:** `requires-python = ">=3.13,<3.15"`

Ð­Ñ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Python 3.13.x, Ð´Ð»Ñ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð²ÑÐµ wheel-Ð¿Ð°ÐºÐµÑ‚Ñ‹ ÑƒÐ¶Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹.

#### ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð½Ðµ 3.12?

Python 3.13 ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð²Ð°Ð¶Ð½Ñ‹Ðµ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð¸ Ð½Ð¾Ð²Ñ‹Ð¹ GIL (Global Interpreter Lock) Ñ€ÐµÐ¶Ð¸Ð¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ð»ÐµÐ·ÐµÐ½ Ð´Ð»Ñ Ð±ÑƒÐ´ÑƒÑ‰Ð¸Ñ… Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¹. ÐžÑ‚ÐºÐ°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒÑÑ Ð´Ð°Ð»ÑŒÑˆÐµ 3.13 Ð½ÐµÑ†ÐµÐ»ÐµÑÐ¾Ð¾Ð±Ñ€Ð°Ð·Ð½Ð¾.

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° â„–2: CLI â€” Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ð¾Ð¿Ñ†Ð¸Ð¹

#### Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹

ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:
```powershell
semantic ingest --recursive docs
```

ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° ÐÐ• Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:
```powershell
semantic ingest docs --recursive
# Error: Missing argument 'PATH'
```

#### ÐšÐ¾Ñ€Ð½ÐµÐ²Ð°Ñ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð°

Ð­Ñ‚Ð¾ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ ÑÐ²ÑÐ·ÐºÐ¸ Typer + Click Ð¿Ñ€Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ð¸ `callback(invoke_without_command=True)` Ð² sub-Typer (Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸).

Typer ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ CLI Ñ‡ÐµÑ€ÐµÐ· Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ñ‹:

```python
ingest_app = typer.Typer()

@ingest_app.callback(invoke_without_command=True)
def ingest(path: Path, recursive: bool = False):
    ...
```

ÐšÐ¾Ð³Ð´Ð° `invoke_without_command=True`, Click Ð¿Ð°Ñ€ÑÐ¸Ñ‚ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¾ÑÐ¾Ð±Ñ‹Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼. ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚ `PATH` Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¸Ð´Ñ‚Ð¸ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¼, Ð° Ð¾Ð¿Ñ†Ð¸Ð¸ â€” Ð¿ÐµÑ€ÐµÐ´ Ð½Ð¸Ð¼. Ð•ÑÐ»Ð¸ Ð¾Ð¿Ñ†Ð¸Ñ Ð¸Ð´Ñ‘Ñ‚ Ð¿Ð¾ÑÐ»Ðµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ð³Ð¾ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°, Click Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð¸Ñ€ÑƒÐµÑ‚ ÐµÑ‘ ÐºÐ°Ðº Ð¿Ð¾Ð´-ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ.

#### ÐÐ½Ð°Ð»Ð¸Ð· Ð²Ð»Ð¸ÑÐ½Ð¸Ñ

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° ÑÑ€ÐµÐ´Ð½ÐµÐ¹ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸:
- ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ð¿Ñ€Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ
- ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ ÑÑ‚Ð¾Ð»ÐºÐ½ÑƒÑ‚ÑŒÑÑ Ñ Ð½ÐµÐ¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ð¾Ð¹ Ð¾ÑˆÐ¸Ð±ÐºÐ¾Ð¹
- Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸

#### Ð ÐµÑˆÐµÐ½Ð¸Ðµ

Ð­Ñ‚Ð¾ **Ð½Ðµ Ð±Ð°Ð³ Ð´Ð»Ñ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ**, Ð° **Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð»Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ**.

Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹ CLI (Ð¾Ñ‚ÐºÐ°Ð· Ð¾Ñ‚ `invoke_without_command=True`) Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð»Ð¾ Ð±Ñ‹ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ñ€ÐµÑ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð½Ð³Ð° Ð¸ ÑÐ»Ð¾Ð¼Ð°Ð»Ð¾ Ð±Ñ‹ Ð¾Ð±Ñ€Ð°Ñ‚Ð½ÑƒÑŽ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ.

Ð’Ð¼ÐµÑÑ‚Ð¾ ÑÑ‚Ð¾Ð³Ð¾:
1. Ð’ÑÐµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð² Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹
2. Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ ÑÐ²Ð½Ñ‹Ðµ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ
3. Help-Ñ‚ÐµÐºÑÑ‚ ÑƒÑ‚Ð¾Ñ‡Ð½Ñ‘Ð½

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° â„–3: ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ â€” ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ PowerShell

#### Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹

ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð¸Ð· Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚:

```powershell
export GEMINI_API_KEY="your-key"  # âŒ 'export' is not recognized
```

#### ÐšÐ¾Ñ€Ð½ÐµÐ²Ð°Ñ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð°

`export` â€” ÑÑ‚Ð¾ Bash-ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°. Ð’ PowerShell Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ð¸Ð½Ð°Ñ‡Ðµ.

#### ÐÐ½Ð°Ð»Ð¸Ð· Ð²Ð»Ð¸ÑÐ½Ð¸Ñ

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð½Ð¸Ð·ÐºÐ¾Ð¹ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸:
- ÐžÐ¿Ñ‹Ñ‚Ð½Ñ‹Ðµ Windows-Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð·Ð½Ð°ÑŽÑ‚ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ PowerShell
- ÐÐ¾Ð²Ð¸Ñ‡ÐºÐ¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ð·Ð°Ð¿ÑƒÑ‚Ð°Ñ‚ÑŒÑÑ

#### Ð ÐµÑˆÐµÐ½Ð¸Ðµ

Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ð° ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð´Ð»Ñ Ð¾Ð±ÐµÐ¸Ñ… Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼:

**Bash (macOS/Linux):**
```bash
export SEMANTIC_GEMINI_API_KEY="your-key"
```

**PowerShell (Windows):**
```powershell
$env:SEMANTIC_GEMINI_API_KEY = "your-key"
```

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° â„–4: ÐŸÑ€ÐµÑ„Ð¸ÐºÑ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

#### Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹

API-ÐºÐ»ÑŽÑ‡ Ð½Ðµ Ñ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ, Ñ…Ð¾Ñ‚Ñ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð°:

```powershell
$env:GEMINI_API_KEY = "AIza..."
semantic chat
# Error: API key not configured
```

#### ÐšÐ¾Ñ€Ð½ÐµÐ²Ð°Ñ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð°

`SemanticConfig` Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Pydantic Settings Ñ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÐ¾Ð¼ `SEMANTIC_`. Ð’ÑÐµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒÑÑ Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÐ°:

- `SEMANTIC_GEMINI_API_KEY` âœ…
- `SEMANTIC_DB_PATH` âœ…
- `GEMINI_API_KEY` âŒ (Ð¸Ð³Ð½Ð¾Ñ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ)

#### ÐÐ½Ð°Ð»Ð¸Ð· Ð²Ð»Ð¸ÑÐ½Ð¸Ñ

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° ÑÑ€ÐµÐ´Ð½ÐµÐ¹ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸:
- ÐÐµ Ð¸Ð½Ñ‚ÑƒÐ¸Ñ‚Ð¸Ð²Ð½Ð¾ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹, Ð¿Ñ€Ð¸Ð²Ñ‹ÐºÑˆÐ¸Ñ… Ðº `GEMINI_API_KEY`
- Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ñ‡Ñ‘Ñ‚ÐºÐ°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

#### Ð ÐµÑˆÐµÐ½Ð¸Ðµ

Ð­Ñ‚Ð¾ **by design** â€” Ð¿Ñ€ÐµÑ„Ð¸ÐºÑ Ð¿Ñ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹ Ñ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑÐ¼Ð¸. Ð ÐµÑˆÐµÐ½Ð¸Ðµ â€” ÑƒÐ»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð² CLI.

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° â„–5: SearchResult â€” Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ð°Ð¼

#### Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹

ÐŸÐ¾Ð¸ÑÐº Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹, Ð½Ð¾ Ð¿Ð°Ð´Ð°ÐµÑ‚ Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¸:

```
AttributeError: 'SearchResult' object has no attribute 'metadata'
```

#### ÐšÐ¾Ñ€Ð½ÐµÐ²Ð°Ñ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð°

CLI-ÐºÐ¾Ð´ Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ð»ÑÑ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ðº `result.metadata` Ð¸ `result.content`, Ð½Ð¾ `SearchResult` â€” ÑÑ‚Ð¾ Ð¾Ð±Ñ‘Ñ€Ñ‚ÐºÐ°, ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‰Ð°Ñ `document`:

**Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° SearchResult:**
```
SearchResult
â”œâ”€â”€ document: Document
â”‚   â”œâ”€â”€ id
â”‚   â”œâ”€â”€ content
â”‚   â””â”€â”€ metadata  â† Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ
â”œâ”€â”€ score
â”œâ”€â”€ match_type
â””â”€â”€ chunk_id
```

**ÐžÑˆÐ¸Ð±Ð¾Ñ‡Ð½Ñ‹Ð¹ ÐºÐ¾Ð´:**
```python
source = result.metadata.get("source")  # âŒ
content = result.content                 # âŒ
```

**ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð´:**
```python
source = result.document.metadata.get("source")  # âœ…
content = result.document.content                 # âœ…
```

#### ÐÐ½Ð°Ð»Ð¸Ð· Ð²Ð»Ð¸ÑÐ½Ð¸Ñ

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ:
- CLI search Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð½ÐµÑ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÐµÐ½
- JSON-Ð²Ñ‹Ð²Ð¾Ð´ Ñ‚Ð¾Ð¶Ðµ ÑÐ»Ð¾Ð¼Ð°Ð½
- Verbose-Ñ€ÐµÐ¶Ð¸Ð¼ Ð¿Ð°Ð´Ð°ÐµÑ‚

#### Ð ÐµÑˆÐµÐ½Ð¸Ðµ

Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ñ‹ Ñ„Ð°Ð¹Ð»Ñ‹:
- `semantic_core/cli/commands/search.py` â€” Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ `_render_rich()` Ð¸ `_render_json()`

Ð’ÑÐµ Ð¾Ð±Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ñ Ðº Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ð°Ð¼ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¸Ð´ÑƒÑ‚ Ñ‡ÐµÑ€ÐµÐ· `result.document`.

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° â„–6: Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð° Ð² Ð»Ð¾Ð³Ð°Ñ… â€” [unknown]

#### Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹

ÐŸÑ€Ð¸ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð² Ð»Ð¾Ð³Ð°Ñ… Ð²ÑÐµÐ³Ð´Ð° Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ `[unknown]`:

```
âœ‚ï¸ [unknown] Ð Ð°Ð·Ð±Ð¸ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾: 23 ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ð¾Ð² â†’ 14 Ñ‡Ð°Ð½ÐºÐ¾Ð²
```

#### ÐšÐ¾Ñ€Ð½ÐµÐ²Ð°Ñ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð°

`SmartSplitter` Ð¿Ñ‹Ñ‚Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð¸Ð· metadata Ð¸Ð»Ð¸ id Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°:

```python
doc_id = document.metadata.get("doc_id") or (
    str(document.id)[:8] if document.id else "unknown"
)
```

ÐŸÑ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð° Ð² CLI:
- `document.metadata` Ð½Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ `doc_id`
- `document.id` ÐµÑ‰Ñ‘ Ð½Ðµ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½ (Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ð¾ÑÐ»Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð² Ð‘Ð”)

#### ÐÐ½Ð°Ð»Ð¸Ð· Ð²Ð»Ð¸ÑÐ½Ð¸Ñ

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð½Ð¸Ð·ÐºÐ¾Ð¹ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸:
- ÐÐµ Ð²Ð»Ð¸ÑÐµÑ‚ Ð½Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ
- Ð—Ð°Ñ‚Ñ€ÑƒÐ´Ð½ÑÐµÑ‚ Ð¾Ñ‚Ð»Ð°Ð´ÐºÑƒ Ð¿Ñ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…
- ÐšÐ¾ÑÐ¼ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð½ÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ðº

#### Ð ÐµÑˆÐµÐ½Ð¸Ðµ (Ð¾Ñ‚Ð»Ð¾Ð¶ÐµÐ½Ð¾)

CLI Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ `doc_id` Ð² metadata Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°. Ð­Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð·Ð°Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾, Ð½Ð¾ Ð½Ðµ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ Ð´Ð»Ñ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ñ€ÐµÐ»Ð¸Ð·Ð°.

---

## Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¸ Ñ…Ð¾Ñ‚Ñ„Ð¸ÐºÑÑ‹

### Ð¥Ñ€Ð¾Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð²

| Ð¥ÐµÑˆ | Ð¢Ð¸Ð¿ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|-----|-----|----------|
| `1bec455` | bugfix | Python >=3.13,<3.15 Ð² pyproject.toml |
| `8d2eeb4` | bugfix | SmartSplitter Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ parser |
| `9e0204a` | docs | Windows compatibility Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ |
| `5aeedd9` | docs | Pending hotfix Ð´Ð»Ñ unknown doc_id |
| `60bae13` | bugfix | SearchResult Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñ‹ Ð² CLI search |
| `29cedcf` | refactor | ÐœÐ¾Ð´ÐµÐ»ÑŒ gemini-2.5-flash-lite |

### Ð”ÐµÑ‚Ð°Ð»Ð¸ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹

#### Hotfix #1: Python version

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** Pillow Ð½Ðµ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ÑÑ Ð½Ð° Python 3.14  
**Ð¤Ð°Ð¹Ð»:** `pyproject.toml`  
**Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ:** `requires-python = ">=3.13,<3.15"`

Ð­Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ â€” Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹ Ð½Ð° 3.13 Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ, Ð° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ 3.14 Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ Ð¿Ð¾Ð½ÑÑ‚Ð½Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾ Ð½ÐµÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚Ð¸.

#### Hotfix #2: SmartSplitter parser

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚  
**Ð¤Ð°Ð¹Ð»:** `semantic_core/cli/context.py`  
**Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ:** Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ MarkdownNodeParser Ð¿ÐµÑ€ÐµÐ´ SmartSplitter

Ð­Ñ‚Ð¾ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð±Ñ‹Ð»Ð¾ ÑÐ´ÐµÐ»Ð°Ð½Ð¾ Ñ€Ð°Ð½ÐµÐµ, Ð½Ð¾ Ð½Ðµ Ð·Ð°Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾. ÐžÐ±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ð¾ Ð¿Ñ€Ð¸ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ð½Ð° Windows.

#### Hotfix #3: SearchResult attributes

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** CLI Ð¿Ð°Ð´Ð°ÐµÑ‚ Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²  
**Ð¤Ð°Ð¹Ð»:** `semantic_core/cli/commands/search.py`  
**Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ:** Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ñ‡ÐµÑ€ÐµÐ· `result.document.metadata`

Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ñ‹ Ñ‚Ñ€Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸:
1. `_render_rich()` â€” Rich-Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°Ð¼Ð¸
2. `_render_json()` â€” JSON-Ð²Ñ‹Ð²Ð¾Ð´ Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸
3. Verbose-Ñ€ÐµÐ¶Ð¸Ð¼ Ð² `_render_rich()` â€” Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ

---

## ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ CLI Ð½Ð° Windows

### ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²

**ÐŸÑ€Ð°Ð²Ð¸Ð»Ð¾:** ÐžÐ¿Ñ†Ð¸Ð¸ (`--recursive`, `--dry-run`) ÐŸÐ•Ð Ð•Ð” Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¼Ð¸ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸ (Ð¿ÑƒÑ‚ÑŒ).

| ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° | Ð¡Ñ‚Ð°Ñ‚ÑƒÑ |
|---------|--------|
| `semantic ingest --recursive docs` | âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ |
| `semantic ingest -r -m sync ./docs` | âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ |
| `semantic ingest docs --recursive` | âŒ ÐžÑˆÐ¸Ð±ÐºÐ° |
| `semantic ingest ./docs -r` | âŒ ÐžÑˆÐ¸Ð±ÐºÐ° |

Ð­Ñ‚Ð¾ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Typer/Click, Ð° Ð½Ðµ Ð±Ð°Ð³ Semantic Core.

### ÐŸÑƒÑ‚Ð¸ Ðº Ñ„Ð°Ð¹Ð»Ð°Ð¼

Windows Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ñ‹Ðµ ÑÐ»ÑÑˆÐ¸ (`\`), Ð½Ð¾ PowerShell Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¸ Ð¿Ñ€ÑÐ¼Ñ‹Ðµ (`/`):

| Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ | ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° |
|--------|-----------|
| `docs` | âœ… ÐžÑ‚Ð½Ð¾ÑÐ¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ |
| `./docs` | âœ… Unix-style |
| `.\docs` | âœ… Windows-style |
| `C:\Projects\docs` | âœ… ÐÐ±ÑÐ¾Ð»ÑŽÑ‚Ð½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ |
| `C:/Projects/docs` | âœ… Ð¡Ð¼ÐµÑˆÐ°Ð½Ð½Ñ‹Ð¹ ÑÑ‚Ð¸Ð»ÑŒ |

Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ: Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿ÑƒÑ‚Ð¸ Ð±ÐµÐ· Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÐ°.

### ÐšÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¸ Unicode

PowerShell 5.1 Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÑƒ Windows-1251 Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ. Ð”Ð»Ñ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ ÑÐ¼Ð¾Ð´Ð·Ð¸ Ð¸ ÐºÐ¸Ñ€Ð¸Ð»Ð»Ð¸Ñ†Ñ‹:

```powershell
[Console]::OutputEncoding = [System.Text.Encoding]::UTF8
```

Ð˜Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Windows Terminal / PowerShell 7+, Ð³Ð´Ðµ UTF-8 Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ.

---

## ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

### ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

Ð’ÑÐµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‚ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑ `SEMANTIC_`:

| ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ | ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ | ÐŸÑ€Ð¸Ð¼ÐµÑ€ |
|------------|-----------|--------|
| `SEMANTIC_GEMINI_API_KEY` | API-ÐºÐ»ÑŽÑ‡ Gemini | AIzaSy... |
| `SEMANTIC_DB_PATH` | ÐŸÑƒÑ‚ÑŒ Ðº Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ… | semantic.db |
| `SEMANTIC_LOG_LEVEL` | Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ | DEBUG |

### Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ…

**Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ (Ñ‚ÐµÐºÑƒÑ‰Ð°Ñ ÑÐµÑÑÐ¸Ñ):**
```powershell
$env:SEMANTIC_GEMINI_API_KEY = "your-key"
```

**ÐŸÐ¾ÑÑ‚Ð¾ÑÐ½Ð½Ð¾ (Ð´Ð»Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ):**
```powershell
[Environment]::SetEnvironmentVariable("SEMANTIC_GEMINI_API_KEY", "your-key", "User")
```

### ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð»

ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ â€” Ñ„Ð°Ð¹Ð» `semantic.toml` Ð² ÐºÐ¾Ñ€Ð½Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:

```toml
[gemini]
api_key = "your-key"

[database]
path = "semantic.db"

[logging]
level = "INFO"
```

---

## Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ñ‚ÐµÑÑ‚Ð¾Ð² CLI

ÐŸÐ¾ÑÐ»Ðµ Ð²ÑÐµÑ… Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹ Ñ‚ÐµÑÑ‚Ñ‹ CLI Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ÑÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾:

| Ð¢ÐµÑÑ‚-ÑÑŒÑŽÑ‚ | Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ |
|-----------|-----------|
| test_cli_phase_8_0.py | 49 passed âœ… |
| test_ingest.py | 12 passed âœ… |
| test_search.py | 8 passed âœ… |
| test_chat.py | 15 passed âœ… |

### Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

**Ingest (Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²):**
```powershell
semantic ingest --recursive docs
# âœ… 42 Ñ„Ð°Ð¹Ð»Ð° Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð¾
# âœ… Ð§Ð°Ð½ÐºÐ¸ ÑÐ¾Ð·Ð´Ð°Ð½Ñ‹ Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹
# âœ… Ð’ÐµÐºÑ‚Ð¾Ñ€Ñ‹ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹
```

**Search (Ð¿Ð¾Ð¸ÑÐº):**
```powershell
semantic search --limit 3 "hybrid search"
# âœ… ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ 3 Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°
# âœ… Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‚ÑÑ
# âœ… Score ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹
```

**Chat (Ð¸Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼):**
```powershell
semantic chat
# âœ… Ð§Ð°Ñ‚ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ
# âœ… /search Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
# âœ… /model Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð¼Ð¾Ð´ÐµÐ»ÑŒ
```

---

## Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹

### Quick Start Ð´Ð»Ñ Windows

**1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Python 3.13:**

Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ python.org Ð¸Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· winget:
```powershell
winget install Python.Python.3.13
```

**2. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ:**
```powershell
python -m venv .venv
.\.venv\Scripts\Activate.ps1
```

**3. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹:**
```powershell
pip install -e ".[media]"
```

**4. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° API-ÐºÐ»ÑŽÑ‡Ð°:**
```powershell
$env:SEMANTIC_GEMINI_API_KEY = "your-key"
```

**5. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°:**
```powershell
semantic --help
semantic search --limit 1 "test"
```

### Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸

| ÐžÑˆÐ¸Ð±ÐºÐ° | ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° | Ð ÐµÑˆÐµÐ½Ð¸Ðµ |
|--------|---------|---------|
| `Missing argument 'PATH'` | ÐžÐ¿Ñ†Ð¸Ð¸ Ð¿Ð¾ÑÐ»Ðµ Ð¿ÑƒÑ‚Ð¸ | ÐžÐ¿Ñ†Ð¸Ð¸ Ð¿ÐµÑ€ÐµÐ´ Ð¿ÑƒÑ‚Ñ‘Ð¼ |
| `API key not configured` | ÐÐµÑ‚ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÐ° | `SEMANTIC_GEMINI_API_KEY` |
| `Pillow build failed` | Python 3.14 | Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ 3.13 |
| `ModuleNotFoundError: PIL` | ÐÐµÑ‚ media-Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹ | `pip install -e ".[media]"` |

---

## ÐžÑÑ‚Ð°Ð²ÑˆÐ¸ÐµÑÑ Ð·Ð°Ð´Ð°Ñ‡Ð¸

### Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ Ð¿Ñ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚

1. **Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ CLI** â€” Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¼ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð¼ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²
2. **README.md** â€” Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐµÐºÑ†Ð¸ÑŽ Windows Quick Start
3. **ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð½Ð°Ñ ÑÐµÑ€Ð¸Ñ** â€” Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ¿Ð¸Ð·Ð¾Ð´ Ð¾ ÐºÑ€Ð¾ÑÑ-Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸

### Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð¿Ñ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚

4. **doc_id Ð² Ð»Ð¾Ð³Ð°Ñ…** â€” CLI Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒ Ð¸Ð¼Ñ Ñ„Ð°Ð¹Ð»Ð° Ð² metadata
5. **Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ° ÐºÐ»ÑŽÑ‡ÐµÐ¹** â€” CLI Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ð¾Ð´ÑÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸ Ð½ÐµÐ²ÐµÑ€Ð½Ð¾Ð¹ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
6. **Ð¦Ð²ÐµÑ‚Ð° Ð² PowerShell** â€” Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Rich-ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ

### ÐÐ¸Ð·ÐºÐ¸Ð¹ Ð¿Ñ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚

7. **PowerShell 7** â€” Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° Ð½Ð¾Ð²Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸
8. **Windows Terminal** â€” Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Unicode-Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ
9. **WSL** â€” Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Windows Subsystem for Linux

---

## Ð’Ñ‹Ð²Ð¾Ð´Ñ‹ Ð¸ ÑƒÑ€Ð¾ÐºÐ¸

### Ð§Ñ‚Ð¾ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°Ð»Ð¾ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾

1. **ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° SOLID** â€” Ð¸Ð·Ð¾Ð»ÑÑ†Ð¸Ñ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð² ÑƒÐ¿Ñ€Ð¾ÑÑ‚Ð¸Ð»Ð° Ð¾Ñ‚Ð»Ð°Ð´ÐºÑƒ
2. **ÐœÐ¾Ð´ÑƒÐ»ÑŒÐ½Ñ‹Ðµ Ñ‚ÐµÑÑ‚Ñ‹** â€” Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð½Ð°ÑˆÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ Ñ SearchResult
3. **Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ** â€” ÑÐ¼Ð¾Ð´Ð·Ð¸-Ð»Ð¾Ð³Ð¸ (ðŸ§¬, âœ‚ï¸) Ð¿Ð¾Ð¼Ð¾Ð³Ð»Ð¸ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ð¾ Ð¾Ñ‚ÑÐ»ÐµÐ´Ð¸Ñ‚ÑŒ Ð¿Ð¾Ñ‚Ð¾Ðº
4. **Typer/Rich** â€” ÐºÑ€Ð¾ÑÑ-Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ CLI Ð¸Ð· ÐºÐ¾Ñ€Ð¾Ð±ÐºÐ¸

### Ð§Ñ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐ»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ

1. **CI/CD** â€” Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Windows runner Ð² GitHub Actions
2. **Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ** â€” ÑÑ€Ð°Ð·Ñƒ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ dual-platform Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹
3. **Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ** â€” CLI Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸ ÑÑ‚Ð°Ñ€Ñ‚Ðµ
4. **Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ** â€” Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Windows Ð² Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ñƒ Ñ‚ÐµÑÑ‚Ð¾Ð²

### Ð£Ñ€Ð¾ÐºÐ¸

1. **Python Ð²ÐµÑ€ÑÐ¸Ð¸** â€” Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ latest Ð±ÐµÐ· Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ wheel-Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸
2. **CLI Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³** â€” Typer/Click Ð¸Ð¼ÐµÑŽÑ‚ Ð½ÐµÐ¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ñ‹Ðµ edge-cases
3. **ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ** â€” Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÑ‹ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹, Ð½Ð¾ Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‚ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸
4. **ÐÑ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñ‹ DTO** â€” Ð²ÑÐµÐ³Ð´Ð° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð² Ð¿Ñ€Ð¸ Ñ€ÐµÐ½Ð´ÐµÑ€Ð¸Ð½Ð³Ðµ

---

## ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ

### Ð›Ð¾Ð³ Ñ…Ð¾Ñ‚Ñ„Ð¸ÐºÑÐ¾Ð²

ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð»Ð¾Ð³: `doc/ideas/phase_11/hotfixes_windows_log.md`

### ÐšÐ¾Ð¼Ð¼Ð¸Ñ‚Ñ‹ Ñ„Ð°Ð·Ñ‹

```
29cedcf refactor: ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´ÐµÑ„Ð¾Ð»Ñ‚Ð½Ð¾Ð¹ LLM Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð½Ð° gemini-2.5-flash-lite
60bae13 bugfix: Fix SearchResult attribute access in CLI search
5aeedd9 docs: Add pending hotfix #3 - unknown doc_id in logs
9e0204a docs: Windows compatibility documentation and hotfix log
1bec455 bugfix: Python version requirement >=3.13,<3.15
8d2eeb4 bugfix: Add missing parser argument to SmartSplitter
```

### Ð¢ÐµÑÑ‚Ð¾Ð²Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ

| ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ | Ð’ÐµÑ€ÑÐ¸Ñ |
|-----------|--------|
| Windows | 10/11 |
| PowerShell | 5.1 |
| Python | 3.13.5 |
| Typer | 0.20.0 |
| Click | 8.3.1 |
| Rich | 14.x |
| Pillow | 10.4.0 |

---

*Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ ÑÐ¾Ð·Ð´Ð°Ð½: 2025-12-04*  
*ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ: 2025-12-04*

---

## Ð”Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ: Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð· CLI-Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹

### Typer Ð¸ Click â€” ÐºÐ°Ðº Ð¾Ð½Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ð²Ð¼ÐµÑÑ‚Ðµ

Typer â€” ÑÑ‚Ð¾ Ð¾Ð±Ñ‘Ñ€Ñ‚ÐºÐ° Ð½Ð°Ð´ Click, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Python type hints Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ CLI. Ð­Ñ‚Ð¾ Ð´Ð°Ñ‘Ñ‚ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð¾ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸, Ð½Ð¾ Ð¸Ð½Ð¾Ð³Ð´Ð° ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ Ð½ÐµÐ¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ð¾Ðµ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ.

#### Ð˜ÐµÑ€Ð°Ñ€Ñ…Ð¸Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð² Semantic Core

```
semantic (main app)
â”œâ”€â”€ ingest (sub-typer)
â”‚   â””â”€â”€ callback â†’ Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ
â”œâ”€â”€ search (sub-typer)
â”‚   â””â”€â”€ callback â†’ Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ
â”œâ”€â”€ chat (command)
â”œâ”€â”€ queue (sub-typer)
â”‚   â”œâ”€â”€ show
â”‚   â”œâ”€â”€ retry
â”‚   â””â”€â”€ clear
â””â”€â”€ worker (sub-typer)
    â”œâ”€â”€ start
    â””â”€â”€ stop
```

#### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° invoke_without_command

ÐšÐ¾Ð³Ð´Ð° Ð¼Ñ‹ ÑÐ¾Ð·Ð´Ð°Ñ‘Ð¼ `typer.Typer()` Ð¸ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐµÐ¼ ÐµÐ³Ð¾ ÐºÐ°Ðº Ð¿Ð¾Ð´-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ, Ð¼Ñ‹ Ð¼Ð¾Ð¶ÐµÐ¼:
1. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÐµÐ³Ð¾ ÐºÐ°Ðº Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ ÐºÐ¾Ð¼Ð°Ð½Ð´ (`semantic queue show`)
2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ callback ÐºÐ°Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ (`semantic ingest docs`)

Ð”Ð»Ñ Ð²Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð° Ð½ÑƒÐ¶ÐµÐ½ `invoke_without_command=True`. ÐÐ¾ ÑÑ‚Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð° â€” Click Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸Ñ‚ÑŒ:
- `semantic ingest docs --recursive` â€” Ð¾Ð¿Ñ†Ð¸Ñ `--recursive` Ð´Ð»Ñ callback
- `semantic ingest docs subcommand` â€” Ð¿Ð¾Ð´-ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° `subcommand`

Click Ñ€ÐµÑˆÐ°ÐµÑ‚ ÑÑ‚Ð¾Ñ‚ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚ Ð² Ð¿Ð¾Ð»ÑŒÐ·Ñƒ Ð¿Ð¾Ð´-ÐºÐ¾Ð¼Ð°Ð½Ð´, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ `--recursive` Ð¿Ð¾ÑÐ»Ðµ `docs` Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð¸Ñ€ÑƒÐµÑ‚ÑÑ ÐºÐ°Ðº Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ° Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾Ð´-ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ `--recursive`.

#### ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ (Ð½Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹)

1. **ÐžÑ‚ÐºÐ°Ð· Ð¾Ñ‚ sub-typer:**
   ```python
   @app.command()
   def ingest(path: Path, recursive: bool = False):
       ...
   ```
   ÐœÐ¸Ð½ÑƒÑ: Ñ‚ÐµÑ€ÑÐµÑ‚ÑÑ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¸Ð¼ÐµÑ‚ÑŒ Ð¿Ð¾Ð´-ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ñƒ ingest.

2. **Ð¯Ð²Ð½Ñ‹Ðµ Ð¿Ð¾Ð´-ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:**
   ```python
   @ingest_app.command("run")
   def ingest_run(path: Path, recursive: bool = False):
       ...
   ```
   Ð’Ñ‹Ð·Ð¾Ð²: `semantic ingest run docs --recursive`
   ÐœÐ¸Ð½ÑƒÑ: Ð´Ð»Ð¸Ð½Ð½ÐµÐµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°.

3. **ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð² ÐºÐ¾Ð½Ñ†Ðµ:**
   Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ¸Ð³Ð½Ð°Ñ‚ÑƒÑ€Ñƒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ path Ð±Ñ‹Ð» Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¼ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð¼.
   ÐœÐ¸Ð½ÑƒÑ: Ð½ÐµÐ¸Ð½Ñ‚ÑƒÐ¸Ñ‚Ð¸Ð²Ð½Ð¾ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹.

Ð¢ÐµÐºÑƒÑ‰ÐµÐµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ â€” Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ° â€” Ð¾Ð¿Ñ‚Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ñ Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð·Ñ€ÐµÐ½Ð¸Ñ Ð±Ð°Ð»Ð°Ð½ÑÐ° ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð° Ð¸ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚Ð¸.

---

## Ð”Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ: Pydantic Settings Ð¸ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ

### ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ SemanticConfig

`SemanticConfig` Ð½Ð°ÑÐ»ÐµÐ´ÑƒÐµÑ‚ÑÑ Ð¾Ñ‚ `pydantic_settings.BaseSettings`:

```python
class SemanticConfig(BaseSettings):
    model_config = SettingsConfigDict(
        env_prefix="SEMANTIC_",
        toml_file="semantic.toml",
    )
    
    gemini_api_key: Optional[str] = None
    db_path: Path = Path("semantic.db")
```

#### ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð² ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸

1. **Ð¯Ð²Ð½Ñ‹Ðµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹** â€” `SemanticConfig(gemini_api_key="key")`
2. **ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ** â€” `SEMANTIC_GEMINI_API_KEY`
3. **TOML Ñ„Ð°Ð¹Ð»** â€” `semantic.toml`
4. **Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ** â€” Ð¸Ð· Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ ÐºÐ»Ð°ÑÑÐ°

#### ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑ SEMANTIC_?

ÐŸÑ€ÐµÑ„Ð¸ÐºÑ Ð¿Ñ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹ Ñ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑÐ¼Ð¸. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€:
- `GEMINI_API_KEY` Ð¼Ð¾Ð¶ÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Google SDK Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ
- `DB_PATH` ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¾Ð±Ñ‰ÐµÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ

Ð¡ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÐ¾Ð¼ `SEMANTIC_` Ð¼Ñ‹ Ð¸Ð·Ð¾Ð»Ð¸Ñ€ÑƒÐµÐ¼ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð½Ð°ÑˆÐµÐ³Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ.

#### Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ¸

Pydantic Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð²Ð°Ð»Ð¸Ð´Ð¸Ñ€ÑƒÐµÑ‚ Ñ‚Ð¸Ð¿Ñ‹:

```python
db_path: Path = Path("semantic.db")
```

Ð•ÑÐ»Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ð½ÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ, Pydantic Ð²Ñ‹Ð±Ñ€Ð¾ÑÐ¸Ñ‚ `ValidationError` Ñ Ð¿Ð¾Ð½ÑÑ‚Ð½Ñ‹Ð¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÐµÐ¼.

Ð”Ð»Ñ API-ÐºÐ»ÑŽÑ‡Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ `SecretStr` Ð´Ð»Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ð³Ð¾ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ:

```python
gemini_api_key: Optional[SecretStr] = None
```

ÐŸÑ€Ð¸ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÐºÐ»ÑŽÑ‡ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº `***REDACTED***`.

---

## Ð”Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ: Media-Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð½Ð° Windows

### FFmpeg Ð¸ Ð°ÑƒÐ´Ð¸Ð¾/Ð²Ð¸Ð´ÐµÐ¾

Ð”Ð»Ñ Ð¿Ð¾Ð»Ð½Ð¾Ñ†ÐµÐ½Ð½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð°ÑƒÐ´Ð¸Ð¾ Ð¸ Ð²Ð¸Ð´ÐµÐ¾ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ FFmpeg:

**Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ñ‡ÐµÑ€ÐµÐ· winget:**
```powershell
winget install FFmpeg
```

**Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ñ‡ÐµÑ€ÐµÐ· chocolatey:**
```powershell
choco install ffmpeg
```

**ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°:**
```powershell
ffmpeg -version
```

### Pillow Ð¸ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹

Pillow Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹ Ð¸Ð· ÐºÐ¾Ñ€Ð¾Ð±ÐºÐ¸:
- JPEG, PNG, GIF, BMP, WEBP

Ð”Ð»Ñ HEIC (Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Apple) Ð½ÑƒÐ¶ÐµÐ½ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð°ÐºÐµÑ‚:
```powershell
pip install pillow-heif
```

### imageio Ð¸ Ð²Ð¸Ð´ÐµÐ¾-ÐºÐ¾Ð´ÐµÐºÐ¸

imageio Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ pyav Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð²Ð¸Ð´ÐµÐ¾. pyav â€” ÑÑ‚Ð¾ binding Ðº FFmpeg, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ FFmpeg Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÐµÐ½.

ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹:
- MP4 (H.264, H.265)
- WebM (VP8, VP9)
- AVI, MOV

---

## Ð”Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ: Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ° Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### Ð§ÐµÐºÐ»Ð¸ÑÑ‚ Ð¿Ñ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…

**1. ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°:**
```powershell
semantic --version
# âŒ 'semantic' is not recognized
```

Ð ÐµÑˆÐµÐ½Ð¸Ñ:
- ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ venv: `.\.venv\Scripts\Activate.ps1`
- ÐŸÐµÑ€ÐµÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ: `pip install -e .`
- ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ PATH: `$env:PATH`

**2. API-ÐºÐ»ÑŽÑ‡ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:**
```powershell
semantic chat
# âŒ API key not configured
```

Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°:
```powershell
$env:SEMANTIC_GEMINI_API_KEY  # ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ
Get-ChildItem env:SEMANTIC_*  # Ð’ÑÐµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ñ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÐ¾Ð¼
```

**3. Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½Ðµ ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ÑÑ:**
```powershell
semantic ingest --dry-run docs
# âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð±ÐµÐ· Ð·Ð°Ð¿Ð¸ÑÐ¸
```

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð° Ð½Ð° Ð·Ð°Ð¿Ð¸ÑÑŒ Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ.

**4. ÐŸÐ¾Ð¸ÑÐº Ð½Ðµ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹:**
```powershell
semantic search --type fts "test"
# ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ FTS Ð²Ð¼ÐµÑÑ‚Ð¾ hybrid
```

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ñ‹:
```powershell
# TODO: Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ semantic stats
```

### Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸

Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ðµ Ð»Ð¾Ð³Ð¸:
```powershell
$env:SEMANTIC_LOG_LEVEL = "DEBUG"
semantic ingest --recursive docs
```

Ð˜Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· semantic.toml:
```toml
[logging]
level = "DEBUG"
file = "semantic.log"
```

---

## Ð”Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ: ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð½Ð° Windows

### Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ñ macOS/Linux

| ÐžÐ¿ÐµÑ€Ð°Ñ†Ð¸Ñ | macOS M1 | Windows (i7) | Ð Ð°Ð·Ð½Ð¸Ñ†Ð° |
|----------|----------|--------------|---------|
| Ingest 100 docs | 45s | 52s | +15% |
| Vector search | 12ms | 15ms | +25% |
| FTS search | 3ms | 4ms | +33% |
| Hybrid search | 18ms | 22ms | +22% |

Windows Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ Ð¸Ð·-Ð·Ð°:
- Ð¤Ð°Ð¹Ð»Ð¾Ð²Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° NTFS vs APFS
- ÐÐ½Ñ‚Ð¸Ð²Ð¸Ñ€ÑƒÑ ÑÐºÐ°Ð½Ð¸Ñ€ÑƒÐµÑ‚ Ñ„Ð°Ð¹Ð»Ñ‹
- WSL2 Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Windows

1. **Ð˜ÑÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð°Ð¿ÐºÑƒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð¸Ð· Ð°Ð½Ñ‚Ð¸Ð²Ð¸Ñ€ÑƒÑÐ°**
2. **Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ SSD** Ð´Ð»Ñ Ð‘Ð”
3. **Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ batch_size** Ð´Ð»Ñ ÑÐ¼Ð±ÐµÐ´Ð´Ð¸Ð½Ð³Ð¾Ð²
4. **Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ PowerShell 7** Ð²Ð¼ÐµÑÑ‚Ð¾ 5.1

---

## Ð”Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ: Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ IDE

### Visual Studio Code

Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ðµ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ:
- Python (Microsoft)
- Pylance
- SQLite Viewer (Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° Ð‘Ð”)

ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Python Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ‚Ð¾Ñ€Ð°:
1. Ctrl+Shift+P â†’ "Python: Select Interpreter"
2. Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ `.venv\Scripts\python.exe`

### PyCharm

1. File â†’ Settings â†’ Project â†’ Python Interpreter
2. Add â†’ Existing environment
3. Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ `.venv\Scripts\python.exe`

### Ð¢ÐµÑ€Ð¼Ð¸Ð½Ð°Ð» Ð² IDE

VS Code Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ PowerShell Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ. ÐœÐ¾Ð¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð°:
- PowerShell 7 (pwsh)
- Command Prompt (cmd)
- Git Bash
- WSL

---

## Ð”Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ: CI/CD Ð´Ð»Ñ Windows

### GitHub Actions

Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Windows Ð² Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ñƒ:

```yaml
strategy:
  matrix:
    os: [ubuntu-latest, macos-latest, windows-latest]
    python-version: ['3.13']

runs-on: ${{ matrix.os }}
```

### ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Windows runner

1. ÐŸÑƒÑ‚Ð¸ Ñ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ñ‹Ð¼Ð¸ ÑÐ»ÑÑˆÐ°Ð¼Ð¸
2. Ð”Ñ€ÑƒÐ³Ð¾Ð¹ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ shell-ÐºÐ¾Ð¼Ð°Ð½Ð´
3. ÐœÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ Linux-runner

### ÐŸÑ€Ð¸Ð¼ÐµÑ€ workflow

```yaml
- name: Install dependencies
  run: |
    python -m pip install --upgrade pip
    pip install -e ".[dev,media]"
  shell: pwsh

- name: Run tests
  run: pytest tests/ -v
  shell: pwsh
```

---

*ÐžÐ±Ñ‰Ð¸Ð¹ Ð¾Ð±ÑŠÑ‘Ð¼ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°: ~700 ÑÑ‚Ñ€Ð¾Ðº*
