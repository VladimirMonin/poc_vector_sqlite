````markdown
# ğŸ“‹ Phase 8.3: Config & Init â€” Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸ĞµĞ¹

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** ğŸ”² ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ  
**Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸:** Phase 8.0 (Core CLI) âœ…

---

## ğŸ¯ Ğ¦ĞµĞ»ÑŒ

Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ¸ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ¸:
- **init** â€” ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³-Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ
- **config** â€” Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞº
- **doctor** â€” Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

---

## ğŸ“¦ ĞĞ¾Ğ²Ñ‹Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸

```text
semantic_core/cli/commands/
â”œâ”€â”€ init.py               # semantic init
â”œâ”€â”€ config.py             # semantic config show/check
â””â”€â”€ doctor.py             # semantic doctor
```

---

## ğŸ“ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° `init` â€” Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**Ğ¤Ğ°Ğ¹Ğ»:** `commands/init.py`

### Ğ¡Ğ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ğ°

```bash
semantic init [OPTIONS]
```

### Ğ›Ğ¾Ğ³Ğ¸ĞºĞ°

1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ `semantic.toml` (Ğ¸Ğ»Ğ¸ `.env`) Ğ² Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸
2. Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°ĞµÑ‚ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ (Ğ¸Ğ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ defaults)
3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ API ĞºĞ»ÑÑ‡ĞµĞ¹ Ğ² Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğ¸

### ĞĞ¿Ñ†Ğ¸Ğ¸

| ĞĞ¿Ñ†Ğ¸Ñ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-------|-----|----------|
| `--format` | toml/env | Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ° (default: toml) |
| `--force` | FLAG | ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¹ |
| `--non-interactive` | FLAG | Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ defaults Ğ±ĞµĞ· Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² |

### UX

```
$ semantic init

âš™ï¸ Initializing Semantic Core project...

? Database path [semantic.db]: 
? Log level [INFO]: DEBUG
? Enable media analysis? [Y/n]: y
? Gemini API key found in GEMINI_API_KEY âœ…

Created: semantic.toml

ğŸ“ Project structure:
   ./semantic.toml     # Configuration
   ./semantic.db       # Database (will be created on first run)

ğŸ’¡ Next steps:
   1. Add your documents: semantic ingest ./docs/
   2. Search: semantic search "query"
   3. See docs: semantic docs overview
```

### Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğ¹ `semantic.toml`

```toml
# Semantic Core Configuration
# Generated by: semantic init

[database]
path = "semantic.db"

[logging]
level = "DEBUG"
file = "semantic.log"  # optional

[gemini]
# API key is read from GEMINI_API_KEY environment variable
model = "text-embedding-004"
embedding_dimension = 768

[media]
enabled = true
image_model = "gemini-2.5-flash"
rpm_limit = 15

[search]
default_limit = 10
default_type = "hybrid"
```

---

## ğŸ“ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° `config` â€” ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

**Ğ¤Ğ°Ğ¹Ğ»:** `commands/config.py`

### Ğ¡ÑƒĞ±ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

#### `semantic config show`

ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ‚ĞµĞºÑƒÑ‰ÑƒÑ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (Ñ Ğ¼Ğ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¾Ğ¹ ÑĞµĞºÑ€ĞµÑ‚Ğ¾Ğ²).

**UX:**

```
$ semantic config show

âš™ï¸ Current Configuration

Source: ./semantic.toml + environment variables

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Setting                    â”ƒ Value                         â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ database.path              â”‚ ./semantic.db                 â”‚
â”‚ logging.level              â”‚ DEBUG                         â”‚
â”‚ gemini.api_key             â”‚ AIza***DACTED                 â”‚
â”‚ gemini.model               â”‚ text-embedding-004            â”‚
â”‚ media.enabled              â”‚ true                          â”‚
â”‚ media.rpm_limit            â”‚ 15                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### `semantic config check`

Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞµÑ‚ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ.

**UX:**

```
$ semantic config check

ğŸ” Checking configuration...

âœ… Config file: ./semantic.toml
âœ… Database: ./semantic.db (exists, 2.3 MB)
âœ… API Key: GEMINI_API_KEY is set
âš ï¸ Batch API Key: GEMINI_BATCH_KEY not set (batch mode disabled)
âœ… sqlite-vec extension: loaded
âœ… Gemini API: connection successful

Summary: 4 passed, 1 warning, 0 errors
```

---

## ğŸ“ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° `doctor` â€” Ğ”Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°

**Ğ¤Ğ°Ğ¹Ğ»:** `commands/doctor.py`

### Ğ¡Ğ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ğ°

```bash
semantic doctor [OPTIONS]
```

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸

| ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° | Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚ |
|----------|------------|
| Python version | >= 3.10 required |
| Dependencies | Ğ’ÑĞµ Ğ¿Ğ°ĞºĞµÑ‚Ñ‹ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹ |
| sqlite-vec | Extension Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ÑÑ |
| Database | Ğ¤Ğ°Ğ¹Ğ» Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½, ÑÑ…ĞµĞ¼Ğ° ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ° |
| API Keys | ĞšĞ»ÑÑ‡Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹ Ğ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ñ‹ |
| Disk space | Ğ”Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ¼ĞµÑÑ‚Ğ° Ğ´Ğ»Ñ Ğ‘Ğ” |
| Network | Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Gemini API |

### ĞĞ¿Ñ†Ğ¸Ğ¸

| ĞĞ¿Ñ†Ğ¸Ñ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-------|-----|----------|
| `--fix` | FLAG | ĞŸĞ¾Ğ¿Ñ‹Ñ‚Ğ°Ñ‚ÑŒÑÑ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ |
| `--verbose` | FLAG | ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´ |

### UX

```
$ semantic doctor

ğŸ©º Running diagnostics...

Environment:
  âœ… Python 3.11.5
  âœ… semantic-core 0.8.0
  âœ… Dependencies: all installed

Database:
  âœ… sqlite-vec extension loaded
  âœ… Database: ./semantic.db
  âœ… Schema version: 5 (current)
  âœ… Tables: chunks (1,234 rows), documents (45 rows)

API:
  âœ… GEMINI_API_KEY: configured
  âš ï¸ GEMINI_BATCH_KEY: not configured
  âœ… Gemini API: reachable (latency: 120ms)

Storage:
  âœ… Disk space: 45 GB available
  â„¹ï¸ Database size: 2.3 MB

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ©º Diagnosis: Healthy (1 warning)

ğŸ’¡ Recommendation:
   Set GEMINI_BATCH_KEY for async embedding (cheaper for large volumes)
```

### JSON Output

```json
{
  "status": "healthy",
  "warnings": 1,
  "errors": 0,
  "checks": {
    "python_version": {"status": "ok", "value": "3.11.5"},
    "sqlite_vec": {"status": "ok"},
    "api_key": {"status": "ok"},
    "batch_key": {"status": "warning", "message": "not configured"},
    ...
  }
}
```

---

## ğŸ”¤ CLI Ğ­Ğ¼Ğ¾Ğ´Ğ·Ğ¸ Ğ´Ğ»Ñ Ğ»Ğ¾Ğ³Ğ³ĞµÑ€Ğ°

**ĞĞ¾Ğ²Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹:**

| ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½ | Ğ­Ğ¼Ğ¾Ğ´Ğ·Ğ¸ | ĞœĞ¾Ğ´ÑƒĞ»ÑŒ |
|---------|--------|--------|
| `init` | âš™ï¸ | init.py |
| `config` | ğŸ”§ | config.py |
| `doctor`, `diagnostic` | ğŸ©º | doctor.py |

**Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² EMOJI_MAP:**
- `init` â†’ âš™ï¸
- `config` â†’ ğŸ”§
- `doctor`, `diagnostic` â†’ ğŸ©º

---

## âœ… Acceptance Criteria

### Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ

1. [ ] `semantic init` ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ semantic.toml
2. [ ] `semantic init --format env` ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ .env
3. [ ] `semantic config show` Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
4. [ ] API ĞºĞ»ÑÑ‡Ğ¸ Ğ¼Ğ°ÑĞºĞ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ² Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğµ
5. [ ] `semantic config check` Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞµÑ‚ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
6. [ ] `semantic doctor` Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ²ÑĞµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸
7. [ ] Ğ¤Ğ»Ğ°Ğ³ `--json` Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´

### ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾

8. [ ] Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼ Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ²Ğ²Ğ¾Ğ´Ğ°
9. [ ] Graceful handling Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
10. [ ] Ğ¦Ğ²ĞµÑ‚Ğ¾Ğ²Ğ°Ñ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ†Ğ¸Ñ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ² (âœ… âš ï¸ âŒ)

### Ğ¢ĞµÑÑ‚Ñ‹

11. [ ] Unit-Ñ‚ĞµÑÑ‚ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ°
12. [ ] Unit-Ñ‚ĞµÑÑ‚ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ° semantic.toml
13. [ ] Integration-Ñ‚ĞµÑÑ‚ doctor checks

---

## ğŸ“š Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ (Ğ¿Ğ¾ÑĞ»Ğµ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸)

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğ¹ ÑĞµÑ€Ğ¸Ğ°Ğ»

1. **Episode 44:** `44_configuration_management.md` â€” Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸ĞµĞ¹
   - TOML vs ENV
   - Configuration precedence (file < env < cli args)
   - Secrets handling

### ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ

- Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞµĞºÑ†Ğ¸Ñ "Configuration" Ğ² README
- ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ€ĞµÑ„ĞµÑ€ĞµĞ½Ñ semantic.toml
- Ğ“Ğ°Ğ¹Ğ´ Ğ¿Ğ¾ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¼ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

### EMOJI_MAP

```python
"init": "âš™ï¸",
"config": "ğŸ”§", 
"doctor": "ğŸ©º",
"diagnostic": "ğŸ©º",
```

---

## ğŸ”— Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹

- **ĞŸÑ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ°Ñ:** [Phase 8.2 â€” RAG Chat](phase_8.2.md)
- **API Keys:** [19_api_key_management.md](../../architecture/19_api_key_management.md)
- **Config:** [domain/config.py](../../../semantic_core/domain/config.py)

````
