# ğŸ“‹ Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞÑ‚Ñ‡Ñ‘Ñ‚: Phase 8.0 â€” Core CLI Commands

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾  
**ĞšĞ¾Ğ¼Ğ¼Ğ¸Ñ‚:** `feat: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ CLI ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ (Phase 8.0)`  
**Ğ’ĞµÑ‚ĞºĞ°:** `phase_8`

---

## 1. Ğ¦ĞµĞ»ÑŒ Ñ„Ğ°Ğ·Ñ‹

ĞŸĞ¾ÑĞ»Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ CLI ÑĞºĞµĞ»ĞµÑ‚Ğ° Ğ² Phase 8.3 (init, config, doctor), Phase 8.0 Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ **Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹** Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²ÑĞµĞ´Ğ½ĞµĞ²Ğ½Ğ¾Ğ³Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:

- `semantic ingest` â€” Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¸ Ğ¼ĞµĞ´Ğ¸Ğ°-Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- `semantic search` â€” ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ±Ğ°Ğ·Ğµ
- `semantic docs` â€” Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

Ğ­Ñ‚Ğ¾ Ğ¿Ñ€ĞµĞ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Semantic Core Ğ¸Ğ· "Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²" Ğ² "Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹".

---

## 2. ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´

### 2.1 ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

Ğ’ÑĞµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ ÑĞ»ĞµĞ´ÑƒÑÑ‚ ĞµĞ´Ğ¸Ğ½Ğ¾Ğ¼Ñƒ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñƒ:

```python
@cmd.callback(invoke_without_command=True)
def command(
    ctx: typer.Context,
    # ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹
    path: Path = typer.Argument(...),
    # ĞĞ¿Ñ†Ğ¸Ğ¸ Ñ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ
    limit: int = typer.Option(10, "--limit", "-l"),
    # Ğ¤Ğ»Ğ°Ğ³Ğ¸
    verbose: bool = typer.Option(False, "--verbose", "-v"),
) -> None:
    """Docstring ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ help-Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ¼."""
    
    # Late import Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¸Ğ·Ğ±ĞµĞ¶Ğ°Ñ‚ÑŒ circular dependency
    from semantic_core.cli.app import get_cli_context
    cli_ctx = get_cli_context()
    
    # Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    if not valid:
        raise typer.BadParameter("message")
    
    # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ SemanticCore (lazy)
    core = cli_ctx.get_core()
    
    # Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ° Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ°
    if cli_ctx.json_output:
        _command_json(...)
    else:
        _command_rich(...)
```

### 2.2 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

```
semantic_core/cli/
â”œâ”€â”€ app.py              # ĞĞ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½: Ğ¼Ğ¾Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ñ‹Ñ… ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´
â”œâ”€â”€ context.py          # CLIContext (Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹)
â”œâ”€â”€ commands/
â”‚   â”œâ”€â”€ __init__.py     # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚: ingest_cmd, search_cmd, docs_cmd
â”‚   â”œâ”€â”€ ingest.py       # +NEW: 280 ÑÑ‚Ñ€Ğ¾Ğº
â”‚   â”œâ”€â”€ search.py       # +NEW: 220 ÑÑ‚Ñ€Ğ¾Ğº
â”‚   â””â”€â”€ docs.py         # +NEW: 180 ÑÑ‚Ñ€Ğ¾Ğº
â””â”€â”€ ui/                 # +NEW: UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ renderers.py    # Ğ ĞµĞ½Ğ´ĞµÑ€ĞµÑ€Ñ‹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
    â””â”€â”€ spinners.py     # ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ-Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ñ‹
```

---

## 3. ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° `ingest` â€” Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²

### 3.1 ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ² ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºÑƒÑ Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…. ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚:

- ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
- Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ (Ñ Ñ€ĞµĞºÑƒÑ€ÑĞ¸ĞµĞ¹)
- Glob-Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ´Ğ»Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸
- ĞœĞµĞ´Ğ¸Ğ°-Ñ„Ğ°Ğ¹Ğ»Ñ‹ (Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ, Ğ°ÑƒĞ´Ğ¸Ğ¾, Ğ²Ğ¸Ğ´ĞµĞ¾)

### 3.2 ĞĞ¿Ñ†Ğ¸Ğ¸ Ğ¸ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹

| ĞÑ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚/ĞĞ¿Ñ†Ğ¸Ñ | Ğ¡Ğ¾ĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Default |
|----------------|------------|----------|---------|
| `PATH` | â€” | ĞŸÑƒÑ‚ÑŒ Ğº Ñ„Ğ°Ğ¹Ğ»Ñƒ/Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ | Required |
| `--mode` | `-m` | Ğ ĞµĞ¶Ğ¸Ğ¼: sync/async | sync |
| `--pattern` | `-p` | Glob-Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ | `*` |
| `--recursive` | `-r` | Ğ ĞµĞºÑƒÑ€ÑĞ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ¾Ğ±Ñ…Ğ¾Ğ´ | False |
| `--enrich-media` | `-e` | ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¼ĞµĞ´Ğ¸Ğ° Ñ‡ĞµÑ€ĞµĞ· Gemini | False |
| `--dry-run` | `-n` | ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ±ĞµĞ· Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ğ¸ | False |

### 3.3 Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         semantic ingest                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  _collect_files()     â”‚
                    â”‚  Path + pattern +     â”‚
                    â”‚  recursive â†’ [Path]   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Filter directories   â”‚
                    â”‚  (keep only files)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                                   â”‚
              â–¼                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   --dry-run     â”‚                 â”‚   Normal mode   â”‚
    â”‚  Show files,    â”‚                 â”‚  Index files    â”‚
    â”‚  no action      â”‚                 â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚                                       â”‚
                              â–¼                                       â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  _ingest_rich() â”‚                     â”‚  _ingest_json() â”‚
                    â”‚  Progress bar   â”‚                     â”‚  JSON output    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚                                       â”‚
                              â–¼                                       â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  For each file: â”‚                     â”‚  For each file: â”‚
                    â”‚  1. Detect type â”‚                     â”‚  1. Detect type â”‚
                    â”‚  2. Create Doc  â”‚                     â”‚  2. Create Doc  â”‚
                    â”‚  3. core.ingest â”‚                     â”‚  3. core.ingest â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚                                       â”‚
                              â–¼                                       â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ _show_summary() â”‚                     â”‚ print_json()    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¸Ğ¿Ğ° Ğ¼ĞµĞ´Ğ¸Ğ°

```python
def _detect_media_type(path: Path) -> MediaType:
    suffix = path.suffix.lower()
    
    image_extensions = {".jpg", ".jpeg", ".png", ".gif", ".webp", ".bmp"}
    audio_extensions = {".mp3", ".wav", ".ogg", ".flac", ".m4a"}
    video_extensions = {".mp4", ".avi", ".mov", ".mkv", ".webm"}
    
    if suffix in image_extensions:
        return MediaType.IMAGE
    elif suffix in audio_extensions:
        return MediaType.AUDIO
    elif suffix in video_extensions:
        return MediaType.VIDEO
    else:
        return MediaType.TEXT
```

### 3.5 ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

```bash
# ĞĞ´Ğ¸Ğ½ Ñ„Ğ°Ğ¹Ğ»
semantic ingest document.md

# Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ
semantic ingest ./docs/

# Ğ ĞµĞºÑƒÑ€ÑĞ¸Ğ²Ğ½Ğ¾ Ñ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ¾Ğ¼
semantic ingest ./docs/ -r -p "*.md"

# Dry-run (Ğ±ĞµĞ· Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ğ¸)
semantic ingest --dry-run ./docs/

# Ğ¡ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ¼ Ğ¼ĞµĞ´Ğ¸Ğ°
semantic ingest ./images/ -r -e

# Async Ñ€ĞµĞ¶Ğ¸Ğ¼ (Ğ´Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ğ±Ğ°Ñ‚Ñ‡ĞµĞ¹)
semantic ingest ./docs/ -r -m async
```

### 3.6 Ğ’Ñ‹Ğ²Ğ¾Ğ´

**Dry-run:**

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ” Dry Run â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²: 43                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
  ğŸ“„ doc/architecture/00_overview.md
  ğŸ“„ doc/architecture/01_embeddings_basics.md
  ğŸ–¼ï¸  assets/diagram.png
  ğŸµ audio/lecture.mp3
  ...
```

**Ğ£ÑĞ¿ĞµÑ…:**

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ“š Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ âœ“ Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸Ğ½Ğ´ĞµĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾: 43 Ğ¸Ğ· 43            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

**Ğ¡ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°Ğ¼Ğ¸:**

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€ âš ï¸  Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°Ğ¼Ğ¸ â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ĞŸÑ€Ğ¾Ğ¸Ğ½Ğ´ĞµĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾: 41 Ğ¸Ğ· 43               â”‚
â”‚ ĞÑˆĞ¸Ğ±Ğ¾Ğº: 2                                â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

ĞÑˆĞ¸Ğ±ĞºĞ¸:
  â€¢ bad_file.md: UnicodeDecodeError
  â€¢ missing.png: FileNotFoundError
```

---

## 4. ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° `search` â€” ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº

### 4.1 ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸Ğ½Ğ´ĞµĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¼ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼. ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚:

- Ğ¢Ñ€Ğ¸ Ñ‚Ğ¸Ğ¿Ğ° Ğ¿Ğ¾Ğ¸ÑĞºĞ°: vector, fts, hybrid
- ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºÑƒ Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ğ° Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸
- Ğ›Ğ¸Ğ¼Ğ¸Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
- Verbose Ñ€ĞµĞ¶Ğ¸Ğ¼ Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑĞ¼Ğ¸

### 4.2 ĞĞ¿Ñ†Ğ¸Ğ¸ Ğ¸ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹

| ĞÑ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚/ĞĞ¿Ñ†Ğ¸Ñ | Ğ¡Ğ¾ĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Default |
|----------------|------------|----------|---------|
| `QUERY` | â€” | ĞŸĞ¾Ğ¸ÑĞºĞ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ | Required |
| `--limit` | `-l` | ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² (1-100) | 10 |
| `--type` | `-t` | Ğ¢Ğ¸Ğ¿ Ğ¿Ğ¾Ğ¸ÑĞºĞ°: vector/fts/hybrid | hybrid |
| `--threshold` | `-T` | ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ score (0.0-1.0) | 0.0 |
| `--k` | `-k` | ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ RRF | 60 |
| `--verbose` | `-v` | Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ | False |

### 4.3 Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²

```python
@search_cmd.callback(invoke_without_command=True)
def search(
    query: str = typer.Argument(...),
    limit: int = typer.Option(
        10,
        "--limit", "-l",
        min=1, max=100,  # Typer Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞµÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
    ),
    search_type: str = typer.Option(
        "hybrid",
        "--type", "-t",
    ),
    threshold: float = typer.Option(
        0.0,
        "--threshold", "-T",
        min=0.0, max=1.0,
    ),
) -> None:
    # Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¸Ğ¿Ğ°
    if search_type not in ("vector", "fts", "hybrid"):
        raise typer.BadParameter(
            f"ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ñ‚Ğ¸Ğ¿ Ğ¿Ğ¾Ğ¸ÑĞºĞ°: {search_type}. "
            "Ğ”Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼Ñ‹Ğµ: vector, fts, hybrid"
        )
```

### 4.4 Ğ¦Ğ²ĞµÑ‚Ğ¾Ğ²Ğ°Ñ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ†Ğ¸Ñ score

```python
def _score_color(score: float) -> str:
    """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ†Ğ²ĞµÑ‚ Rich Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ score."""
    if score >= 0.8:
        return "green"
    elif score >= 0.5:
        return "yellow"
    else:
        return "red"
```

### 4.5 ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

```bash
# Ğ“Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ)
semantic search "ĞºĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³"

# Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ñ‹Ğ¹
semantic search "Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº" --type vector

# Ğ¡ Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğ¼ Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸
semantic search "rate limiting" --threshold 0.5 --limit 20

# Verbose Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑĞ¼Ğ¸
semantic search "async" -v
```

### 4.6 Ğ’Ñ‹Ğ²Ğ¾Ğ´

**ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹:**

```
ğŸ” ĞŸĞ¾Ğ¸ÑĞº: "ĞºĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³"
Ğ¢Ğ¸Ğ¿: hybrid | ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾: 5

â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #  â”ƒ Score   â”ƒ ĞšĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚                                     â”ƒ
â”¡â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ 1  â”‚ [green]0.92[/]   â”‚ Ğ­Ğ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³ â€” ÑÑ‚Ğ¾ Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğ¾Ğµ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ... â”‚
â”‚ 2  â”‚ [green]0.85[/]   â”‚ Ğ”Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ¾Ğ² Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ...   â”‚
â”‚ 3  â”‚ [yellow]0.67[/]   â”‚ ĞœĞ¾Ğ´ĞµĞ»ÑŒ text-embedding-004 ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚...       â”‚
â”‚ 4  â”‚ [yellow]0.54[/]   â”‚ Ğ Ğ°Ğ·Ğ¼ĞµÑ€Ğ½Ğ¾ÑÑ‚ÑŒ Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ° Ğ²Ğ»Ğ¸ÑĞµÑ‚ Ğ½Ğ°...           â”‚
â”‚ 5  â”‚ [red]0.32[/]   â”‚ Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½ Ğ½Ğ°...          â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**JSON:**

```json
{
  "query": "ĞºĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³",
  "type": "hybrid",
  "count": 5,
  "results": [
    {
      "score": 0.92,
      "content": "Ğ­Ğ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³ â€” ÑÑ‚Ğ¾ Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğ¾Ğµ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ...",
      "metadata": {"source": "doc/embeddings.md"}
    },
    ...
  ]
}
```

---

## 5. ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° `docs` â€” Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

### 5.1 ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

Ğ’ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ² Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ. ĞĞµ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ğ° Ğ¸Ğ»Ğ¸ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ°.

### 5.2 Ğ¢Ğ¾Ğ¿Ğ¸ĞºĞ¸

| Ğ¢Ğ¾Ğ¿Ğ¸Ğº | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ |
|-------|----------|------------|
| `overview` | ĞĞ±Ğ·Ğ¾Ñ€ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ | Ğ¤Ğ¸Ğ»Ğ¾ÑĞ¾Ñ„Ğ¸Ñ, Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚ |
| `search` | Ğ¢Ğ¸Ğ¿Ñ‹ Ğ¿Ğ¾Ğ¸ÑĞºĞ° | vector, fts, hybrid, RRF |
| `ingest` | Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ | Ğ¤Ğ°Ğ¹Ğ»Ñ‹, Ğ¼ĞµĞ´Ğ¸Ğ°, Ñ€ĞµĞ¶Ğ¸Ğ¼Ñ‹ |
| `config` | ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ | TOML, env, Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹ |
| `api` | Python API | ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ğ¾Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ |

### 5.3 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚Ğ¾Ğ¿Ğ¸ĞºĞ°

```python
DOCS_TOPICS = {
    "overview": {
        "title": "ğŸ“š ĞĞ±Ğ·Ğ¾Ñ€ Semantic Core",
        "content": """
# Semantic Core

**Ğ¤Ğ¸Ğ»Ğ¾ÑĞ¾Ñ„Ğ¸Ñ:** Local-First ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº.

## Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

1. Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:
   $ semantic init

2. Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ:
   $ semantic ingest ./docs/ -r

3. ĞŸĞ¾Ğ¸ÑĞº:
   $ semantic search "Ğ²Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ"
...
"""
    },
    ...
}
```

### 5.4 ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

```bash
# Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ‚Ğ¾Ğ¿Ğ¸ĞºĞ¾Ğ²
semantic docs

# ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Ñ‚Ğ¾Ğ¿Ğ¸Ğº
semantic docs search
semantic docs config
semantic docs api
```

### 5.5 Ğ’Ñ‹Ğ²Ğ¾Ğ´

**Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº:**

```
ğŸ“– Ğ’ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Semantic Core

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Ğ¢Ğ¾Ğ¿Ğ¸Ğº           â”ƒ ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                            â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ ğŸ“š overview     â”‚ ĞĞ±Ğ·Ğ¾Ñ€ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ Ğ¸ Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚    â”‚
â”‚ ğŸ” search       â”‚ Ğ¢Ğ¸Ğ¿Ñ‹ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹             â”‚
â”‚ ğŸ“¥ ingest       â”‚ Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¸ Ğ¼ĞµĞ´Ğ¸Ğ°       â”‚
â”‚ âš™ï¸ config        â”‚ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°            â”‚
â”‚ ğŸ”Œ api          â”‚ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ°Ğº Python Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ: semantic docs <Ñ‚Ğ¾Ğ¿Ğ¸Ğº>
```

**Ğ¢Ğ¾Ğ¿Ğ¸Ğº:**

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ” Ğ¢Ğ¸Ğ¿Ñ‹ Ğ¿Ğ¾Ğ¸ÑĞºĞ°                                                   â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

## Vector Search

Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ğ¾ ÑĞ¼Ñ‹ÑĞ»Ñƒ. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ cosine similarity
Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ°Ğ¼Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ° Ğ¸ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ².

$ semantic search "Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº" --type vector

## FTS (Full-Text Search)

Ğ¢Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ğ¾ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğ¼ ÑĞ»Ğ¾Ğ²Ğ°Ğ¼ Ñ‡ĞµÑ€ĞµĞ· SQLite FTS5.

$ semantic search "rate_limiter" --type fts

## Hybrid Search (default)

ĞšĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ vector + FTS Ñ‡ĞµÑ€ĞµĞ· Reciprocal Rank Fusion.
Ğ›ÑƒÑ‡ÑˆĞµĞµ Ğ¸Ğ· Ğ¾Ğ±Ğ¾Ğ¸Ñ… Ğ¼Ğ¸Ñ€Ğ¾Ğ²: ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸ĞºĞ° + Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ.

$ semantic search "async batch" --type hybrid
```

---

## 6. UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### 6.1 Renderers (`ui/renderers.py`)

```python
def render_search_results(
    query: str,
    results: list,
    search_type: str,
    verbose: bool = False,
) -> None:
    """Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ² Rich Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ."""

def render_ingest_summary(
    success: int,
    failed: int,
    errors: list[dict] | None = None,
) -> None:
    """Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ ÑĞ²Ğ¾Ğ´ĞºÑƒ Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ğ¸."""

def render_error(message: str, title: str = "ĞÑˆĞ¸Ğ±ĞºĞ°") -> None:
    """Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¾Ğ¹."""

def render_success(message: str, title: str = "Ğ£ÑĞ¿ĞµÑ…") -> None:
    """Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ñ ÑƒÑĞ¿ĞµÑ…Ğ¾Ğ¼."""
```

### 6.2 Spinners (`ui/spinners.py`)

```python
@contextmanager
def progress_spinner(description: str = "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°..."):
    """Context manager Ğ´Ğ»Ñ ÑĞ¿Ğ¸Ğ½Ğ½ĞµÑ€Ğ°."""
    with Progress(
        SpinnerColumn(),
        TextColumn("[progress.description]{task.description}"),
    ) as progress:
        progress.add_task(description, total=None)
        yield

@contextmanager
def progress_bar(total: int, description: str = "ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°"):
    """Context manager Ğ´Ğ»Ñ progress bar."""
    with Progress(
        SpinnerColumn(),
        TextColumn("[progress.description]{task.description}"),
        BarColumn(),
        TaskProgressColumn(),
    ) as progress:
        task = progress.add_task(description, total=total)
        yield progress

class ProgressTracker:
    """ĞšĞ»Ğ°ÑÑ-Ğ¾Ğ±Ñ‘Ñ€Ñ‚ĞºĞ° Ğ´Ğ»Ñ ÑƒĞ´Ğ¾Ğ±Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ¾Ğ¼."""
    
    def __init__(self, total: int, description: str = "Processing"):
        self.total = total
        self.description = description
        
    def __enter__(self):
        self.progress = Progress(...)
        self.progress.start()
        self.task_id = self.progress.add_task(...)
        return self
    
    def advance(self, amount: int = 1):
        self.progress.advance(self.task_id, amount)
    
    def update(self, description: str):
        self.progress.update(self.task_id, description=description)
```

---

## 7. Ğ ĞµÑˆÑ‘Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹

### 7.1 Ğ”Ğ²Ğ° `@app.callback()` Ğ² app.py

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** ĞŸÑ€Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´ ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ»Ğ¸ Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ callback, Ñ‡Ñ‚Ğ¾ Ğ²Ñ‹Ğ·Ğ²Ğ°Ğ»Ğ¾ ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚.

**Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼:**

```
Error: Got unexpected extra argument (ingest)
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** ĞĞ±ÑŠĞµĞ´Ğ¸Ğ½Ğ¸Ñ‚ÑŒ callbacks Ğ² Ğ¾Ğ´Ğ¸Ğ½:

```python
# Ğ‘Ğ«Ğ›Ğ (Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾):
@app.callback()
def callback1(): ...

@app.callback()  # ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹!
def callback2(): ...

# Ğ¡Ğ¢ĞĞ›Ğ (Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾):
@app.callback()
def main_callback(
    # Ğ’ÑĞµ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ğ¸ Ñ‚ÑƒÑ‚
    version: bool = typer.Option(...),
    db_path: Path = typer.Option(...),
    log_level: str = typer.Option(...),
    json_output: bool = typer.Option(...),
): ...
```

### 7.2 Circular imports

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒÑÑ‚ `get_cli_context()` Ğ¸Ğ· `app.py`, Ğ° `app.py` Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹.

**Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼:**

```
ImportError: cannot import name 'ingest_cmd' from partially initialized module
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Late import Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:

```python
# Ğ’ ingest.py
@ingest_cmd.callback()
def ingest(...):
    # Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸, Ğ½Ğµ Ğ½Ğ° Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ¼ ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ
    from semantic_core.cli.app import get_cli_context
    cli_ctx = get_cli_context()
```

### 7.3 Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¹ Ğ² glob

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** `Path.glob("*")` Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ñ‹, Ğ¸ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸.

**Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼:** ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ ĞºĞ°Ğº Ñ„Ğ°Ğ¹Ğ».

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ¯Ğ²Ğ½Ğ°Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ:

```python
def _collect_files(path: Path, pattern: str, recursive: bool) -> list[Path]:
    if path.is_file():
        return [path]
    
    if recursive:
        all_paths = path.rglob(pattern)
    else:
        all_paths = path.glob(pattern)
    
    # Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ÑƒĞµĞ¼ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸
    return [p for p in all_paths if p.is_file()]
```

### 7.4 semantic.toml Ğ² ĞºĞ¾Ñ€Ğ½Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Ğ”Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ½ÑƒĞ¶ĞµĞ½ `semantic.toml`, Ğ½Ğ¾ ĞµĞ³Ğ¾ Ğ½Ğµ Ğ±Ñ‹Ğ»Ğ¾.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³:

```toml
# semantic.toml Ğ² ĞºĞ¾Ñ€Ğ½Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
[database]
path = "semantic.db"

[logging]
level = "DEBUG"

[processing]
splitter = "smart"
```

---

## 8. Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### 8.1 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚ĞµÑÑ‚Ğ¾Ğ²

```
tests/unit/cli/test_cli_phase_8_0.py  # 49 Ñ‚ĞµÑÑ‚Ğ¾Ğ²
```

### 8.2 ĞšĞ»Ğ°ÑÑÑ‹ Ñ‚ĞµÑÑ‚Ğ¾Ğ²

**TestIngestCommand (8 Ñ‚ĞµÑÑ‚Ğ¾Ğ²):**

- `test_ingest_help` â€” ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ° ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ²ÑĞµ Ğ¾Ğ¿Ñ†Ğ¸Ğ¸
- `test_ingest_no_path_shows_error` â€” Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ±ĞµĞ· PATH
- `test_ingest_nonexistent_path` â€” Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ´Ğ»Ñ Ğ½ĞµÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ³Ğ¾ Ğ¿ÑƒÑ‚Ğ¸
- `test_ingest_dry_run_single_file` â€” dry-run Ğ´Ğ»Ñ Ñ„Ğ°Ğ¹Ğ»Ğ°
- `test_ingest_dry_run_directory` â€” dry-run Ğ´Ğ»Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸
- `test_ingest_dry_run_with_pattern` â€” Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñƒ
- `test_ingest_dry_run_no_files_found` â€” Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- `test_ingest_invalid_mode` â€” Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ´Ğ»Ñ Ğ½ĞµĞ²ĞµÑ€Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°

**TestMediaTypeDetection (14 Ñ‚ĞµÑÑ‚Ğ¾Ğ²):**

- ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğ¹
- TEXT: .md, .txt, .py
- IMAGE: .jpg, .jpeg, .png, .gif, .webp
- AUDIO: .mp3, .wav, .ogg
- VIDEO: .mp4, .avi, .mov

**TestDocumentCreation (2 Ñ‚ĞµÑÑ‚Ğ°):**

- `test_create_document_text` â€” Document Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ¾Ğ¼
- `test_create_document_image` â€” Document Ñ Ğ¿ÑƒÑ‚Ñ‘Ğ¼

**TestFileCollection (3 Ñ‚ĞµÑÑ‚Ğ°):**

- `test_collect_single_file`
- `test_collect_directory`
- `test_collect_recursive`

**TestSearchCommand (3 Ñ‚ĞµÑÑ‚Ğ°):**

- `test_search_help`
- `test_search_no_query_shows_error`
- `test_search_invalid_type`

**TestSearchValidation (2 Ñ‚ĞµÑÑ‚Ğ°):**

- `test_limit_min_max`
- `test_threshold_range`

**TestDocsCommand (10 Ñ‚ĞµÑÑ‚Ğ¾Ğ²):**

- `test_docs_help`
- `test_docs_list_topics`
- `test_docs_show_overview`
- `test_docs_show_search`
- `test_docs_show_ingest`
- `test_docs_show_config`
- `test_docs_show_api`
- `test_docs_invalid_topic`
- `test_all_topics_have_content`

**TestUIRenderers (3 Ñ‚ĞµÑÑ‚Ğ°):**

- `test_import_renderers`
- `test_render_ingest_summary_success`
- `test_render_error`

**TestUISpinners (2 Ñ‚ĞµÑÑ‚Ğ°):**

- `test_import_spinners`
- `test_progress_tracker_class`

**TestCommandIntegration (3 Ñ‚ĞµÑÑ‚Ğ°):**

- `test_ingest_with_dry_run_works`
- `test_docs_command_works`
- `test_docs_with_topic_works`

### 8.3 Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ğ¾Ğ²

```bash
$ poetry run pytest tests/unit/cli/test_cli_phase_8_0.py -v
======================== 49 passed in 0.15s =========================
```

---

## 9. ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

| ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ° | Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|---------|----------|
| ĞĞ¾Ğ²Ñ‹Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² | 5 |
| Ğ¡Ñ‚Ñ€Ğ¾Ğº ĞºĞ¾Ğ´Ğ° | ~1750 |
| ĞĞ¾Ğ²Ñ‹Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ | 20+ |
| Unit-Ñ‚ĞµÑÑ‚Ğ¾Ğ² | 49 |

### 9.1 Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

| Ğ¤Ğ°Ğ¹Ğ» | Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ |
|------|--------|
| `commands/ingest.py` | 280 |
| `commands/search.py` | 220 |
| `commands/docs.py` | 180 |
| `ui/renderers.py` | 150 |
| `ui/spinners.py` | 120 |
| **Ğ˜Ñ‚Ğ¾Ğ³Ğ¾** | **~950** |

---

## 10. Ğ¨ĞµÑ€Ğ¾Ñ…Ğ¾Ğ²Ğ°Ñ‚Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹

### 10.1 Interactive Mode Ğ´Ğ»Ñ Logger

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Ğ’Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Rich progress bar Ğ»Ğ¾Ğ³Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµÑ€Ğ¸Ñ€ÑƒÑÑ‚ Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸ĞµĞ¼.

**Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ Ğ¿Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ:** Logger Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ Ğ¾Ñ‚ UI.

**Ğ–ĞµĞ»Ğ°ĞµĞ¼Ğ¾Ğµ:** `set_interactive_mode(True)` â€” Ğ¿Ğ¾Ğ´Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ»Ğ¾Ğ³Ğ¸, Ğ±ÑƒÑ„ĞµÑ€Ğ¸Ğ·ÑƒĞµÑ‚, Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ.

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** Backlog. Workaround: `SEMANTIC_LOG_LEVEL=ERROR`.

### 10.2 Async CLI

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğµ, Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒÑÑ‚ event loop.

**Ğ’Ğ»Ğ¸ÑĞ½Ğ¸Ğµ:** Ğ”Ğ»Ñ CLI ÑÑ‚Ğ¾ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ (blocking by design).

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** ĞĞµ Ğ±Ğ»Ğ¾ĞºĞµÑ€. Typer Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ async Ñ‡ĞµÑ€ĞµĞ· `asyncer` ĞµÑĞ»Ğ¸ Ğ¿Ğ¾Ğ½Ğ°Ğ´Ğ¾Ğ±Ğ¸Ñ‚ÑÑ.

---

## 11. Definition of Done

1. âœ… **ingest ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°** â€” Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¸ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¹
2. âœ… **search ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°** â€” Ğ¿Ğ¾Ğ¸ÑĞº Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ°Ğ¼Ğ¸
3. âœ… **docs ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°** â€” Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
4. âœ… **UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹** â€” renderers, spinners, progress
5. âœ… **Ğ¢ĞµÑÑ‚Ñ‹** â€” 49 unit-Ñ‚ĞµÑÑ‚Ğ¾Ğ²
6. âœ… **Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ±Ğ°Ğ³Ğ¸** â€” callbacks, circular imports

---

## 12. Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

Phase 8.0 Ğ¿Ñ€ĞµĞ²Ñ€Ğ°Ñ‚Ğ¸Ğ»Ğ° Semantic Core Ğ¸Ğ· Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ Ğ² Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ñ‹Ğ¹ CLI-Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚:

- **ingest** â€” Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ğ»ÑĞ±Ñ‹Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ñ progress bar
- **search** â€” ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº Ñ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²Ğ¾Ğ¹ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ†Ğ¸ĞµĞ¹
- **docs** â€” Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ² Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ

Ğ’Ğ¼ĞµÑÑ‚Ğµ Ñ Phase 8.3 ÑÑ‚Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ user journey:

```
semantic init â†’ semantic ingest ./docs/ -r â†’ semantic search "query"
```

Ğ¤ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´ (queue, worker) Ğ² ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ñ… Ñ„Ğ°Ğ·Ğ°Ñ….
