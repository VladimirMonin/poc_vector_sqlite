````markdown
# üó∫Ô∏è Phase 8: Semantic CLI & Control Plane

**–°—Ç–∞—Ç—É—Å:** üî≤ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 7.0 (Logging Core) ‚úÖ

---

## üéØ –û–±—â–∞—è —Ü–µ–ª—å

–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π CLI (`semantic`) –∫–∞–∫ **Control Plane** –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ (ingest, search)
- –§–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (worker, queue)
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (doctor, init)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π RAG-—á–∞—Ç

---

## üß† –§–∏–ª–æ—Å–æ—Ñ–∏—è: Human-Friendly + Machine-Readable

CLI –∏–º–µ–µ—Ç –¥–≤–∞ "–ª–∏—Ü–∞":

1. **–î–ª—è —á–µ–ª–æ–≤–µ–∫–∞:** Rich-—Ç–∞–±–ª–∏—Ü—ã, —Å–ø–∏–Ω–Ω–µ—Ä—ã, Markdown, —ç–º–æ–¥–∑–∏
2. **–î–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤:** –§–ª–∞–≥ `--json` –≤—ã–¥–∞—ë—Ç —á–∏—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## üì¶ –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ —Å—É–±—Ñ–∞–∑—ã

| –§–∞–∑–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ö–æ–º–∞–Ω–¥—ã | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|----------|---------|-----------|
| **8.0** | Core CLI | `ingest`, `search`, `docs` | üî¥ –í—ã—Å–æ–∫–∏–π |
| **8.1** | Operations | `queue`, `worker` | üü° –°—Ä–µ–¥–Ω–∏–π |
| **8.2** | RAG Chat | `chat` (REPL + LLM) | üü° –°—Ä–µ–¥–Ω–∏–π |
| **8.3** | Config | `init`, `config`, `doctor` | üü¢ –ù–∏–∑–∫–∏–π |

---

## üìê –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–∞

```text
semantic_core/cli/
‚îú‚îÄ‚îÄ __init__.py           # main() entry point
‚îú‚îÄ‚îÄ app.py                # Typer –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ callback'–∏
‚îú‚îÄ‚îÄ context.py            # CLIContext (DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
‚îú‚îÄ‚îÄ console.py            # Rich Console singleton
‚îú‚îÄ‚îÄ commands/             # –ì—Ä—É–ø–ø—ã –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ ingest.py         # Phase 8.0
‚îÇ   ‚îú‚îÄ‚îÄ search.py         # Phase 8.0
‚îÇ   ‚îú‚îÄ‚îÄ docs.py           # Phase 8.0
‚îÇ   ‚îú‚îÄ‚îÄ queue.py          # Phase 8.1
‚îÇ   ‚îú‚îÄ‚îÄ worker.py         # Phase 8.1
‚îÇ   ‚îú‚îÄ‚îÄ chat.py           # Phase 8.2
‚îÇ   ‚îú‚îÄ‚îÄ init.py           # Phase 8.3
‚îÇ   ‚îú‚îÄ‚îÄ config.py         # Phase 8.3
‚îÇ   ‚îî‚îÄ‚îÄ doctor.py         # Phase 8.3
‚îî‚îÄ‚îÄ ui/                   # –°–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ renderers.py      # –¢–∞–±–ª–∏—Ü—ã, –æ—à–∏–±–∫–∏, success
    ‚îî‚îÄ‚îÄ spinners.py       # Progress, Status
```

---

## üñ•Ô∏è –ò—Ç–æ–≥–æ–≤–æ–µ –º–µ–Ω—é (`semantic --help`)

```text
Usage: semantic [OPTIONS] COMMAND [ARGS]...

  üß† Semantic Core CLI ‚Äî –í–∞—à –≤—Ç–æ—Ä–æ–π –º–æ–∑–≥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

Options:
  -d, --db-path PATH   –ü—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
  -l, --log-level LVL  –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
  -j, --json           –í—ã–≤–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
  -v, --verbose        –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥.
  --help               Show this message and exit.

Commands:
  ingest   üì• –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤/–ø–∞–ø–æ–∫.
  search   üîç –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ.
  docs     üìö –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.
  queue    üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á.
  worker   üë∑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã–º –≤–æ—Ä–∫–µ—Ä–æ–º.
  chat     üí¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π RAG-—á–∞—Ç.
  init     ‚öôÔ∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞.
  config   üîß –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
  doctor   ü©∫ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
```

---

## üî§ –ù–æ–≤—ã–µ —ç–º–æ–¥–∑–∏ –¥–ª—è EMOJI_MAP

–ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Phase 8 –¥–æ–±–∞–≤–∏—Ç—å –≤ `formatters.py`:

| –ü–∞—Ç—Ç–µ—Ä–Ω | –≠–º–æ–¥–∑–∏ | –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ |
|---------|--------|---------------|
| `cli` | üñ•Ô∏è | Phase 8.0 |
| `worker` | üë∑ | Phase 8.1 |
| `chat`, `rag` | üí¨ | Phase 8.2 |
| `init` | ‚öôÔ∏è | Phase 8.3 |
| `config` | üîß | Phase 8.3 |
| `doctor`, `diagnostic` | ü©∫ | Phase 8.3 |

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–ø–æ—Å–ª–µ –≤—Å–µ—Ö —Å—É–±—Ñ–∞–∑)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å–µ—Ä–∏–∞–ª

| Episode | –¢–µ–º–∞ | –ü–æ—Å–ª–µ —Ñ–∞–∑—ã |
|---------|------|------------|
| 39 | CLI Architecture | 8.0 |
| 40 | CLI UX Patterns | 8.0 |
| 41 | Worker Architecture | 8.1 |
| 42 | RAG Pipeline | 8.2 |
| 43 | Chat Interface | 8.2 |
| 44 | Configuration Management | 8.3 |

### README –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

- –°–µ–∫—Ü–∏—è "CLI Usage" —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- –°–µ–∫—Ü–∏—è "Background Processing" (worker, queue)
- –°–µ–∫—Ü–∏—è "Configuration" (semantic.toml)

---

## üîó –î–µ—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã

1. **[Phase 8.0 ‚Äî Core CLI](phase_8.0.md)** ‚Äî ingest, search, docs
2. **[Phase 8.1 ‚Äî Operations CLI](phase_8.1.md)** ‚Äî queue, worker
3. **[Phase 8.2 ‚Äî RAG Chat](phase_8.2.md)** ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç
4. **[Phase 8.3 ‚Äî Config & Init](phase_8.3.md)** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

---

## üí° –ò—Å—Ö–æ–¥–Ω—ã–π –±—Ä–µ–π–Ω—à—Ç–æ—Ä–º (–∞—Ä—Ö–∏–≤)

<details>
<summary>–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∏–¥–µ–∏ –∏–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–º</summary>

### –§–∏–ª–æ—Å–æ—Ñ–∏—è CLI: "Human Friendly, Machine Readable"

CLI –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–≤–∞ –ª–∏—Ü–∞:

1. **–î–ª—è —á–µ–ª–æ–≤–µ–∫–∞:** –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥, —Å–ø–∏–Ω–Ω–µ—Ä—ã, —Ç–∞–±–ª–∏—Ü—ã, Markdown-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (—á–µ—Ä–µ–∑ `Rich`).
2. **–î–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤/–∞–≥–µ–Ω—Ç–æ–≤:** –§–ª–∞–≥ `--json`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫–ª—é—á–∞–µ—Ç –≤—Å—é –∫—Ä–∞—Å–æ—Ç—É –∏ –≤—ã–¥–∞–µ—Ç —á–∏—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–∞–π–ø–∏–Ω–≥–∞ (`| jq`).

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ (Django/Flask)

**–°—Ü–µ–Ω–∞—Ä–∏–π Django:**
–í —Å–≤–æ–µ–º `manage.py` –∏–ª–∏ –≤ –∞–¥–º–∏–Ω–∫–µ —Ç—ã –º–æ–∂–µ—à—å –≤—ã–∑—ã–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã CLI –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ, –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CLI –∫–∞–∫ –≤–Ω–µ—à–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —É–∫–∞–∑—ã–≤–∞—è –ø—É—Ç—å –∫ —Ç–æ–π –∂–µ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

```bash
# –í –ø–∞–ø–∫–µ –¥–∂–∞–Ω–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
semantic search "—é–∑–µ—Ä—ã" --db-path ./db.sqlite3
```

*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:* –î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞—É—á–∏—Ç—å `semantic_core` –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –±–∞–∑–µ, –µ—Å–ª–∏ –æ–Ω–∞ –∑–∞–Ω—è—Ç–∞ –î–∂–∞–Ω–≥–æ–π (WAL —Ä–µ–∂–∏–º SQLite —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç).

### Command as a Service Pattern

–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –≤ `commands/` —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–π `typer.Typer()` –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Ç–æ–º –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `semantic plugins install ...` –∏–ª–∏ `semantic stats` –≤ –±—É–¥—É—â–µ–º.

</details>

````
