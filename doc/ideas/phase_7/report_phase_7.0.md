# ðŸ“‹ Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÐžÑ‚Ñ‡Ñ‘Ñ‚: Phase 7.0 â€” Logging Core Infrastructure

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾  
**ÐšÐ¾Ð¼Ð¼Ð¸Ñ‚:** `feat: Phase 7.0 â€” Logging Core Infrastructure`  
**Ð’ÐµÑ‚ÐºÐ°:** `phase_7`

---

## ðŸŽ¯ Ð¦ÐµÐ»ÑŒ Ñ„Ð°Ð·Ñ‹

Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„ÑƒÐ½Ð´Ð°Ð¼ÐµÐ½Ñ‚ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ ÑÐµÐ¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹:

- **Dual Mode:** ÐšÐ¾Ð½ÑÐ¾Ð»ÑŒ (INFO+) Ð´Ð»Ñ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ°, Ñ„Ð°Ð¹Ð» (TRACE) Ð´Ð»Ñ AI-Ð°Ð³ÐµÐ½Ñ‚Ð¾Ð²
- **Visual Semantics:** Ð­Ð¼Ð¾Ð´Ð·Ð¸ Ð´Ð»Ñ Ð¼Ð³Ð½Ð¾Ð²ÐµÐ½Ð½Ð¾Ð¹ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¼Ð¾Ð´ÑƒÐ»Ñ/Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸
- **Context Binding:** ÐŸÑ€Ð¾Ð±Ñ€Ð¾Ñ batch_id, doc_id Ñ‡ÐµÑ€ÐµÐ· Ð²ÐµÑÑŒ pipeline
- **Security:** ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¼Ð°ÑÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ API-ÐºÐ»ÑŽÑ‡ÐµÐ¹

---

## ðŸ“ Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   get_logger()  â”‚â”€â”€â”€â”€â–¶â”‚ SemanticLogger  â”‚â”€â”€â”€â”€â–¶â”‚   RichHandler   â”‚
â”‚   __name__      â”‚     â”‚  + bind()       â”‚     â”‚   (Console)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚                         â”‚
                               â–¼                         â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ SensitiveFilter â”‚     â”‚  FileHandler    â”‚
                        â”‚  (API keys)     â”‚     â”‚  (TRACE mode)   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ

1. **Adapter Pattern Ð´Ð»Ñ SemanticLogger** â€” Ð¾Ð±Ñ‘Ñ€Ñ‚ÐºÐ° Ð½Ð°Ð´ logging.Logger, Ð½Ðµ Ð·Ð°Ð¼ÐµÐ½Ð°, ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ
2. **Ð­Ð¼Ð¾Ð´Ð·Ð¸ Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸, Ð½Ðµ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‚ÐµÑ€Ðµ** â€” RichHandler Ð¸Ð³Ð½Ð¾Ñ€Ð¸Ñ€ÑƒÐµÑ‚ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð½ÑÑ‚Ð²Ð¾ Ð¿Ð¾Ð»ÐµÐ¹ Formatter, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ ÑÐ¼Ð¾Ð´Ð·Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð² `_log()`
3. **markup=False Ð´Ð»Ñ RichHandler** â€” Ð¸Ð½Ð°Ñ‡Ðµ `[batch-123]` Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð¸Ñ€ÑƒÐµÑ‚ÑÑ ÐºÐ°Ðº Rich style tag Ð¸ Ð¸ÑÑ‡ÐµÐ·Ð°ÐµÑ‚
4. **ÐŸÐ°Ñ‚Ñ‡Ð¸Ð½Ð³ Logger.trace()** â€” Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¼ÐµÑ‚Ð¾Ð´ Ñ‡ÐµÑ€ÐµÐ· monkey-patch Ð´Ð»Ñ ÑƒÑ€Ð¾Ð²Ð½Ñ TRACE (5)

---

## ðŸ“¦ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹

### 1. ÐŸÐ°ÐºÐµÑ‚ `semantic_core/utils/logger/`

| Ð¤Ð°Ð¹Ð» | ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ |
|------|------------|
| `levels.py` | Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ TRACE=5, Ð¿Ð°Ñ‚Ñ‡Ð¸Ð½Ð³ Logger.trace() |
| `config.py` | `LoggingConfig` Pydantic-Ð¼Ð¾Ð´ÐµÐ»ÑŒ |
| `filters.py` | `SensitiveDataFilter` â€” Ð¼Ð°ÑÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ API-ÐºÐ»ÑŽÑ‡ÐµÐ¹ |
| `formatters.py` | `EMOJI_MAP`, `FileFormatter`, `ConsoleFormatter` |
| `logger.py` | `SemanticLogger` adapter Ñ bind(), trace_ai(), error_with_context() |
| `__init__.py` | ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ API: get_logger(), setup_logging() |

### 2. ÐœÐ¾Ð´ÑƒÐ»ÑŒ `levels.py`

**Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ TRACE:**

- Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: 5 (Ð½Ð¸Ð¶Ðµ DEBUG=10)
- ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: Ð´Ð°Ð¼Ð¿Ñ‹ Ð¿ÐµÐ¹Ð»Ð¾Ð°Ð´Ð¾Ð², Ð²ÐµÐºÑ‚Ð¾Ñ€Ð¾Ð², Ð¿Ñ€Ð¾Ð¼Ð¿Ñ‚Ð¾Ð²
- Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ: `logging.addLevelName(TRACE, "TRACE")`

**ÐŸÐ°Ñ‚Ñ‡Ð¸Ð½Ð³ Logger:**

```python
logging.Logger.trace = _trace_method  # Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¼ÐµÑ‚Ð¾Ð´ trace()
logging.TRACE = TRACE  # ÐšÐ¾Ð½ÑÑ‚Ð°Ð½Ñ‚Ð° Ð² Ð¼Ð¾Ð´ÑƒÐ»Ðµ logging
```

### 3. ÐœÐ¾Ð´ÑƒÐ»ÑŒ `filters.py`

**SensitiveDataFilter Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹:**

| ÐŸÐ°Ñ‚Ñ‚ÐµÑ€Ð½ | Ð§Ñ‚Ð¾ Ð»Ð¾Ð²Ð¸Ñ‚ |
|---------|-----------|
| `AIza[0-9A-Za-z_-]{35}` | Google API Key |
| `sk-[0-9a-zA-Z]{20,}` | OpenAI API Key |
| `sk-proj-[0-9a-zA-Z_-]{20,}` | OpenAI Project Key |
| `gsk_[0-9a-zA-Z]{50,}` | Groq API Key |
| `xai-[0-9a-zA-Z]{20,}` | xAI/Grok API Key |
| `bearer\s+[a-zA-Z0-9_-]{20,}` | Bearer tokens |

**ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°:**

- Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð° `record.msg` Ð¸ `record.args`
- Ð ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ð¾ Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ dict, list, tuple
- Ð—Ð°Ð¼ÐµÐ½Ð° Ð½Ð° `***REDACTED***`

### 4. ÐœÐ¾Ð´ÑƒÐ»ÑŒ `formatters.py`

**EMOJI_MAP (15+ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ð¾Ð²):**

| ÐŸÐ°Ñ‚Ñ‚ÐµÑ€Ð½ Ð¼Ð¾Ð´ÑƒÐ»Ñ | Ð­Ð¼Ð¾Ð´Ð·Ð¸ | ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ |
|----------------|--------|----------|
| `pipeline`, `core` | ðŸ“¥ | Ingestion |
| `parser`, `parsers`, `markdown` | ðŸ§¶ | ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³ |
| `splitter`, `splitters` | âœ‚ï¸ | ÐÐ°Ñ€ÐµÐ·ÐºÐ° |
| `embed`, `embedder`, `gemini` | ðŸ§  | Ð’ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ |
| `batch`, `queue` | ðŸ“¦ | ÐžÑ‡ÐµÑ€ÐµÐ´Ð¸ |
| `storage`, `adapter`, `peewee` | ðŸ’¾ | Ð‘Ð” |
| `search` | ðŸ” | ÐŸÐ¾Ð¸ÑÐº |
| `image`, `vision` | ðŸ‘ï¸ | Vision API |
| `audio` | ðŸŽ™ï¸ | Audio API |
| `video` | ðŸŽ¬ | Video API |
| `rate`, `limit`, `auth` | ðŸ›¡ï¸ | Security |
| *fallback* | ðŸ“Œ | Unknown |

**LEVEL_EMOJI:**

| Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ | Ð­Ð¼Ð¾Ð´Ð·Ð¸ |
|---------|--------|
| CRITICAL | ðŸ’€ |
| ERROR | âŒ |
| WARNING | âš ï¸ |
| DEBUG | ðŸ”§ |
| TRACE | ðŸ”¬ |

**CONTEXT_ID_KEYS (Ð¿Ñ€Ð¾Ð±Ñ€Ð¾Ñ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°):**

- `batch_id`, `doc_id`, `chunk_id`, `task_id`, `request_id`

### 5. ÐœÐ¾Ð´ÑƒÐ»ÑŒ `logger.py`

**SemanticLogger API:**

| ÐœÐµÑ‚Ð¾Ð´ | ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ |
|-------|------------|
| `trace(msg, **context)` | Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ TRACE (5) |
| `debug(msg, **context)` | Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ DEBUG (10) |
| `info(msg, **context)` | Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ INFO (20) |
| `warning(msg, **context)` | Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ WARNING (30) |
| `error(msg, **context)` | Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ ERROR (40) |
| `bind(**context)` | Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð´Ð¾Ñ‡ÐµÑ€Ð½Ð¸Ð¹ Ð»Ð¾Ð³Ð³ÐµÑ€ Ñ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼ |
| `trace_ai(prompt, response, **meta)` | Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ LLM-Ð²Ñ‹Ð·Ð¾Ð²Ð¾Ð² |
| `error_with_context(exc, **ctx)` | Ð˜ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼Ð¸ |

**Ð¤Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð² `_log()`:**

1. ÐžÐ±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ `self._context` Ñ `**context`
2. Ð¤Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ `[batch-123/chunk-42]` Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÐ° Ð¸Ð· CONTEXT_ID_KEYS
3. Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¼Ð¾Ð´Ð·Ð¸ Ð¼Ð¾Ð´ÑƒÐ»Ñ (Ð¸Ð»Ð¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð´Ð»Ñ ERROR/WARNING)
4. Ð˜Ñ‚Ð¾Ð³: `ðŸ“¥ [batch-123] Document loaded`

### 6. ÐœÐ¾Ð´ÑƒÐ»ÑŒ `__init__.py`

**setup_logging() Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÑ‚:**

- RichHandler Ð´Ð»Ñ ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ (show_level=False, markup=False)
- FileHandler Ð´Ð»Ñ Ñ„Ð°Ð¹Ð»Ð° (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
- SensitiveDataFilter Ð½Ð° Ð¾Ð±Ð° Ñ…ÐµÐ½Ð´Ð»ÐµÑ€Ð°
- Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ semantic_core Ð»Ð¾Ð³Ð³ÐµÑ€Ð° = TRACE

**get_logger() Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸:**

- Ð›ÐµÐ½Ð¸Ð²Ð°Ñ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ setup_logging() Ð¿Ñ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð²Ñ‹Ð·Ð¾Ð²Ðµ
- Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ SemanticLogger, Ð½Ðµ logging.Logger

---

## ðŸ”— Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð² `pyproject.toml`:

```toml
dependencies = [
    # ... ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ ...
    "rich (>=13.0.0,<14.0.0)"
]
```

---

## ðŸ› ï¸ Ð ÐµÑˆÑ‘Ð½Ð½Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹

### 1. RichHandler Ð¿Ð¾Ð³Ð»Ð¾Ñ‰Ð°ÐµÑ‚ ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð½Ñ‹Ðµ ÑÐºÐ¾Ð±ÐºÐ¸

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** `[batch-123]` Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð»ÑÑ ÐºÐ°Ðº Rich markup style tag Ð¸ Ð¸ÑÑ‡ÐµÐ·Ð°Ð» Ð¸Ð· Ð²Ñ‹Ð²Ð¾Ð´Ð°

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ð»Ð¸ markup Ð² RichHandler:

```python
RichHandler(markup=False, ...)
```

### 2. Ð”Ð²Ð¾Ð¹Ð½Ñ‹Ðµ ÑÐ¼Ð¾Ð´Ð·Ð¸ Ð² Ð²Ñ‹Ð²Ð¾Ð´Ðµ

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** Ð­Ð¼Ð¾Ð´Ð·Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐ»Ð¸ÑÑŒ Ð¸ Ð² SemanticLogger._log(), Ð¸ Ð² ConsoleFormatter.format()

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð£Ð±Ñ€Ð°Ð»Ð¸ ConsoleFormatter Ð´Ð»Ñ RichHandler, Ð¾ÑÑ‚Ð°Ð²Ð¸Ð»Ð¸ ÑÐ¼Ð¾Ð´Ð·Ð¸ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² SemanticLogger._log()

### 3. RichHandler Ð¸Ð³Ð½Ð¾Ñ€Ð¸Ñ€ÑƒÐµÑ‚ ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ð¹ Formatter

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** RichHandler Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ getMessage() Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ, Ð½Ðµ Ñ‡ÐµÑ€ÐµÐ· Formatter

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÑÐ¼Ð¾Ð´Ð·Ð¸ Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð² SemanticLogger._log(), Ð´Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð¸ Ð² logger.log()

### 4. ÐŸÐ°Ñ‚Ñ‡Ð¸Ð½Ð³ Logger.trace() â€” Ð¸Ð´ÐµÐ¼Ð¿Ð¾Ñ‚ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** ÐŸÑ€Ð¸ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¼ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ðµ Ð¼Ð¾Ð´ÑƒÐ»Ñ Ð½Ðµ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð´ÑƒÐ±Ð»Ð¸

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð“Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð»Ð°Ð³ `_trace_installed` Ð² levels.py, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ Ð¿Ð°Ñ‚Ñ‡Ð¸Ð½Ð³Ð¾Ð¼

---

## âœ… Ð¢ÐµÑÑ‚Ñ‹

**Ð¤Ð°Ð¹Ð»:** `tests/unit/utils/test_logger.py`

| ÐšÐ»Ð°ÑÑ | Ð¢ÐµÑÑ‚Ð¾Ð² | ÐŸÐ¾ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ |
|-------|--------|----------|
| `TestLevels` | 4 | TRACE Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ, Ð¿Ð°Ñ‚Ñ‡Ð¸Ð½Ð³, Ð¸Ð´ÐµÐ¼Ð¿Ð¾Ñ‚ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ |
| `TestLoggingConfig` | 4 | Ð”ÐµÑ„Ð¾Ð»Ñ‚Ñ‹, ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ, frozen, Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ |
| `TestSensitiveDataFilter` | 5 | Google/OpenAI ÐºÐ»ÑŽÑ‡Ð¸, args, safe messages |
| `TestFormatters` | 5 | EMOJI_MAP, get_module_emoji, CONTEXT_ID_KEYS |
| `TestSemanticLogger` | 7 | Ð‘Ð°Ð·Ð¾Ð²Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ, bind(), trace_ai() |
| `TestSetupLogging` | 4 | setup_logging(), get_logger() |
| `TestFileFormatter` | 2 | Ð‘Ð°Ð·Ð¾Ð²Ð¾Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ, JSON ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ |

**Ð˜Ñ‚Ð¾Ð³Ð¾:** 31 Ñ‚ÐµÑÑ‚, Ð²ÑÐµ passed

---

## ðŸ“Š ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸

| ÐœÐµÑ‚Ñ€Ð¸ÐºÐ° | Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ |
|---------|----------|
| ÐÐ¾Ð²Ñ‹Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² | 8 |
| Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ ÑÑ‚Ñ€Ð¾Ðº | +1363 |
| ÐÐ¾Ð²Ñ‹Ñ… ÐºÐ»Ð°ÑÑÐ¾Ð² | 5 |
| ÐÐ¾Ð²Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ | 10+ |
| Unit-Ñ‚ÐµÑÑ‚Ð¾Ð² | 31 |

---

## ðŸ”„ ÐžÑ‚Ð»Ð¸Ñ‡Ð¸Ñ Ð¾Ñ‚ Ð¿Ð»Ð°Ð½Ð°

| ÐŸÑƒÐ½ÐºÑ‚ Ð¿Ð»Ð°Ð½Ð° | Ð¤Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ |
|-------------|----------------------|
| ConsoleFormatter Ð´Ð»Ñ RichHandler | ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ â€” RichHandler Ð¸Ð³Ð½Ð¾Ñ€Ð¸Ñ€ÑƒÐµÑ‚ ÐµÐ³Ð¾, ÑÐ¼Ð¾Ð´Ð·Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð² SemanticLogger |
| markup=True Ð´Ð»Ñ Rich ÑÑ‚Ð¸Ð»ÐµÐ¹ | markup=False â€” Ð¸Ð½Ð°Ñ‡Ðµ `[batch-id]` Ð¸ÑÑ‡ÐµÐ·Ð°ÐµÑ‚ |
| JSON Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ð´Ð»Ñ ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ | ÐÐ• Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ â€” RichHandler ÑÐ°Ð¼ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€ÑƒÐµÑ‚, JSON Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ FileHandler |

---

## âœ… Definition of Done

1. âœ… **ÐŸÐ°ÐºÐµÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½:** `semantic_core/utils/logger/` Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº
2. âœ… **TRACE ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ:** Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½, logger.trace() Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
3. âœ… **Ð­Ð¼Ð¾Ð´Ð·Ð¸:** EMOJI_MAP Ð¿Ð¾ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ Ð²ÑÐµ Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¼Ð¾Ð´ÑƒÐ»Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
4. âœ… **Context binding:** bind(batch_id="...") Ð¿Ñ€Ð¾Ð±Ñ€Ð°ÑÑ‹Ð²Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
5. âœ… **Security:** SensitiveDataFilter Ð¼Ð°ÑÐºÐ¸Ñ€ÑƒÐµÑ‚ Google/OpenAI/Groq ÐºÐ»ÑŽÑ‡Ð¸
6. âœ… **Dual mode:** RichHandler (ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ) + FileHandler (Ñ„Ð°Ð¹Ð») Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÑŽÑ‚ÑÑ
7. âœ… **Ð¢ÐµÑÑ‚Ñ‹:** 31 unit-Ñ‚ÐµÑÑ‚ Ñ Ð¿Ð¾Ð»Ð½Ñ‹Ð¼ Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸ÐµÐ¼

---

## ðŸš€ Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸

- **Phase 7.1:** Instrumentation Processing Layer â€” Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð»Ð¾Ð³Ð¾Ð² Ð² pipeline, parsers, splitters
- **Phase 7.2:** Instrumentation Infrastructure Layer â€” Ð»Ð¾Ð³Ð¸ Ð² embedder, storage, media utils
- **Phase 7.3:** Configuration & UX â€” Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ GeminiConfig, dump_debug_info()
