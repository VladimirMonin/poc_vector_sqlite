# üóúÔ∏è Episode 48: Context Compression

> –ö–∞–∫ —Å–∂–∏–º–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–µ–¥—Å—Ç–∞–≤—å –¥–ª–∏–Ω–Ω—É—é –±–µ—Å–µ–¥—É —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º ‚Äî 30 —Å–æ–æ–±—â–µ–Ω–∏–π, 50,000 —Ç–æ–∫–µ–Ω–æ–≤.
–ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **–≤—Å—é –∏—Å—Ç–æ—Ä–∏—é** –≤ LLM. –≠—Ç–æ:

- üí∏ –î–æ—Ä–æ–≥–æ (—Ç–æ–∫–µ–Ω—ã = –¥–µ–Ω—å–≥–∏)
- üê¢ –ú–µ–¥–ª–µ–Ω–Ω–æ (–±–æ–ª—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤ = –¥–æ–ª—å—à–µ –æ—Ç–≤–µ—Ç)
- üìâ –•—É–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ (–º–æ–¥–µ–ª–∏ "—Ç–µ—Ä—è—é—Ç—Å—è" –≤ –¥–ª–∏–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ)

**–ü—Ä–æ—Å—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏–∑ Phase 9.1:**

| –°—Ç—Ä–∞—Ç–µ–≥–∏—è | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç | –ü—Ä–æ–±–ª–µ–º–∞ |
|-----------|------------|----------|
| LastNMessages | –•—Ä–∞–Ω–∏—Ç N –ø–æ—Å–ª–µ–¥–Ω–∏—Ö | –¢–µ—Ä—è–µ–º –≤–µ—Å—å —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç |
| TokenBudget | –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã | –¢–æ –∂–µ —Å–∞–º–æ–µ |

**–•–æ—á–µ—Ç—Å—è:** —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å **—Å–º—ã—Å–ª** —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –Ω–æ –≤ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–º –≤–∏–¥–µ.

---

## üí° –ò–¥–µ—è: LLM-—Å–∂–∞—Ç–∏–µ

–ß—Ç–æ –µ—Å–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Å–∞–º—É LLM —Å–∂–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é?

```
–ë—ã–ª–æ: 20 —Å–æ–æ–±—â–µ–Ω–∏–π (15,000 —Ç–æ–∫–µ–Ω–æ–≤)
          ‚Üì
      [LLM —Å–∂–∏–º–∞–µ—Ç]
          ‚Üì
–°—Ç–∞–ª–æ: 1 summary (500 —Ç–æ–∫–µ–Ω–æ–≤)
```

LLM –ø–æ–Ω–∏–º–∞–µ—Ç —Å–º—ã—Å–ª –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≥–ª–∞–≤–Ω–æ–µ:
- –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç—ã –∏ —Ä–µ—à–µ–Ω–∏—è
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ–±—Å—É–∂–¥–µ–Ω–∏—è

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–î–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å —Ä–∞–∑–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              AdaptiveWithCompression                        ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ   "–ö–æ–≥–¥–∞ —Å–∂–∏–º–∞—Ç—å?"           "–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å?"               ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ   ‚îÇ threshold: 30k  ‚îÇ        ‚îÇ target: 10k     ‚îÇ            ‚îÇ
‚îÇ   ‚îÇ –°–∂–∏–º–∞–µ–º –∫–æ–≥–¥–∞   ‚îÇ        ‚îÇ –•—Ä–∞–Ω–∏–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ‚îÇ            ‚îÇ
‚îÇ   ‚îÇ –ø—Ä–µ–≤—ã—Å–∏–ª–∏       ‚îÇ        ‚îÇ —Å–æ–æ–±—â–µ–Ω–∏—è       ‚îÇ            ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ              ‚îÇ                                              ‚îÇ
‚îÇ              ‚ñº                                              ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
‚îÇ   ‚îÇ            ContextCompressor                ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ                                             ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ   "–ö–∞–∫ —Å–∂–∏–º–∞—Ç—å?"                            ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ   messages[] ‚îÄ‚îÄ‚ñ∫ LLM ‚îÄ‚îÄ‚ñ∫ summary_message    ‚îÇ           ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**ContextCompressor** ‚Äî —á–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –Ω–µ –∑–Ω–∞–µ—Ç –æ –ø–æ—Ä–æ–≥–∞—Ö.
**AdaptiveWithCompression** ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, —Ä–µ—à–∞–µ—Ç –∫–æ–≥–¥–∞ –≤—ã–∑–≤–∞—Ç—å –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä.

---

## üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º —Å–∂–∞—Ç–∏—è

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–∞

```
–í—Å–µ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤ = –∏—Å—Ç–æ—Ä–∏—è + summary (–µ—Å–ª–∏ –µ—Å—Ç—å)

–ï—Å–ª–∏ –≤—Å–µ–≥–æ > threshold ‚Üí –°–ñ–ò–ú–ê–ï–ú
```

### –®–∞–≥ 2: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  –ò—Å—Ç–æ—Ä–∏—è                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     TO_COMPRESS      ‚îÇ        TO_KEEP           ‚îÇ
‚îÇ    (—Å—Ç–∞—Ä—ã–µ)          ‚îÇ       (–Ω–æ–≤—ã–µ)            ‚îÇ
‚îÇ                      ‚îÇ                          ‚îÇ
‚îÇ  msg1, msg2, msg3    ‚îÇ    msg4, msg5            ‚îÇ
‚îÇ  + old_summary       ‚îÇ                          ‚îÇ
‚îÇ                      ‚îÇ    ‚â§ target —Ç–æ–∫–µ–Ω–æ–≤      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

–ò–¥—ë–º —Å –∫–æ–Ω—Ü–∞, —Å–æ–±–∏—Ä–∞–µ–º –ø–æ–∫–∞ –Ω–µ –ø—Ä–µ–≤—ã—Å–∏–º `target`.

### –®–∞–≥ 3: –°–∂–∞—Ç–∏–µ

```
[old_summary] + [msg1, msg2, msg3]
              ‚Üì
         LLM compress
              ‚Üì
        new_summary
```

### –®–∞–≥ 4: –†–µ–∑—É–ª—å—Ç–∞—Ç

```
–ò—Å—Ç–æ—Ä–∏—è = [msg4, msg5]
Summary = new_summary (—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏)
```

---

## üìä –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- threshold: 1000 —Ç–æ–∫–µ–Ω–æ–≤
- target: 400 —Ç–æ–∫–µ–Ω–æ–≤

**–ù–∞—á–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è:**

| # | –°–æ–æ–±—â–µ–Ω–∏–µ | –¢–æ–∫–µ–Ω—ã |
|---|-----------|--------|
| 1 | "–†–∞—Å—Å–∫–∞–∂–∏ –æ Python" | 200 |
| 2 | "Python ‚Äî —ç—Ç–æ..." | 300 |
| 3 | "–ê —á—Ç–æ —Ç–∞–∫–æ–µ –û–û–ü?" | 250 |
| 4 | "–û–û–ü ‚Äî —ç—Ç–æ..." | 350 |
| | **–í—Å–µ–≥–æ** | **1100** |

**1100 > 1000 ‚Üí –°–ñ–ê–¢–ò–ï**

**–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ (—Å –∫–æ–Ω—Ü–∞, –ø–æ–∫–∞ ‚â§ 400):**
- msg4: 350 ‚úì
- msg3: 250 ‚úó (350 + 250 = 600 > 400)

**to_compress:** msg1, msg2, msg3 (750 —Ç–æ–∫–µ–Ω–æ–≤)
**to_keep:** msg4 (350 —Ç–æ–∫–µ–Ω–æ–≤)

**–ü–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è:**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–æ–∫–µ–Ω—ã |
|-----------|--------|
| summary | ~100 |
| msg4 | 350 |
| **–í—Å–µ–≥–æ** | **~450** |

–°–∂–∞–ª–∏ —Å 1100 –¥–æ 450 —Ç–æ–∫–µ–Ω–æ–≤, —Å–æ—Ö—Ä–∞–Ω–∏–≤ —Å–º—ã—Å–ª!

---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ChatHistoryManager

Manager —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Å–æ –≤—Å–µ–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏:

```
manager.add_user("–í–æ–ø—Ä–æ—Å")
manager.add_assistant("–û—Ç–≤–µ—Ç")
```

–°–∂–∞—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.

**–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è LLM:**

```
get_messages_for_llm()
    ‚Üì
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç: –µ—Å—Ç—å –ª–∏ get_full_context()?
    ‚Üì
–î–∞ ‚Üí [summary] + [messages]
–ù–µ—Ç ‚Üí [messages]
```

---

## üñ•Ô∏è CLI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ù–æ–≤—ã–µ —Ñ–ª–∞–≥–∏:**

```bash
# –°–∂–∏–º–∞—Ç—å –ø—Ä–∏ 30k —Ç–æ–∫–µ–Ω–æ–≤, –æ—Å—Ç–∞–≤–ª—è—Ç—å 10k
semantic chat --compress-at 30000 --compress-target 10000

# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–∏:
# –ò—Å—Ç–æ—Ä–∏—è: —Å–∂–∞—Ç–∏–µ –ø—Ä–∏ 30000 —Ç–æ–∫–µ–Ω–æ–≤
```

**–°—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞:**

```
–¢–æ–∫–µ–Ω—ã: 1250 | –∏—Å—Ç–æ—Ä–∏—è: 5 —Å–æ–æ–±—â., 2100 —Ç–æ–∫–µ–Ω–æ–≤ (—Å–∂–∞—Ç–æ)
                                              ^^^^^^^^
                                              –ï—Å—Ç—å summary!
```

---

## ‚öñÔ∏è Trade-offs

### –ü–ª—é—Å—ã

| –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|----------|
| üß† –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–º—ã—Å–ª–∞ | LLM –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç |
| üí∞ –≠–∫–æ–Ω–æ–º–∏—è | –ú–µ–Ω—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤ = –¥–µ—à–µ–≤–ª–µ |
| ‚ö° –°–∫–æ—Ä–æ—Å—Ç—å | –ö–æ—Ä–æ—Ç–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç = –±—ã—Å—Ç—Ä–µ–µ |
| üîÑ –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ | Summary –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è |

### –ú–∏–Ω—É—Å—ã

| –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------------|-----------|
| üìâ –ü–æ—Ç–µ—Ä—è –¥–µ—Ç–∞–ª–µ–π | –ß—ë—Ç–∫–∏–π –ø—Ä–æ–º–ø—Ç, –Ω–∏–∑–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ |
| üí∏ –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–∂–∞—Ç–∏—è | –†–µ–¥–∫–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç |
| üé≤ –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å | –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 0.3 |

---

## üìà –≠–∫–æ–Ω–æ–º–∏–∫–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π:** —á–∞—Ç –∏–∑ 50 —Å–æ–æ–±—â–µ–Ω–∏–π, ~50k —Ç–æ–∫–µ–Ω–æ–≤

**–ë–µ–∑ —Å–∂–∞—Ç–∏—è:**
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å: 50k –≤—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- 10 –∑–∞–ø—Ä–æ—Å–æ–≤ = 500k —Ç–æ–∫–µ–Ω–æ–≤

**–° —Å–∂–∞—Ç–∏–µ–º (threshold=30k, target=10k):**
- –°–∂–∞—Ç–∏–µ –ø—Ä–∏ 30k: ~20k ‚Üí 500 —Ç–æ–∫–µ–Ω–æ–≤
- –°–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã: ~15k —Ç–æ–∫–µ–Ω–æ–≤
- 10 –∑–∞–ø—Ä–æ—Å–æ–≤ ‚âà 150k —Ç–æ–∫–µ–Ω–æ–≤

**–≠–∫–æ–Ω–æ–º–∏—è: ~70%**

---

## üîÆ –ë—É–¥—É—â–µ–µ

**Phase 9.3 –¥–æ–±–∞–≤–∏—Ç –∫–æ–º–∞–Ω–¥—ã:**
- `/compress` ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ
- `/tokens` ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `/history` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä summary

**–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- –°–∂–∞—Ç–∏–µ –ø–æ —Ç–µ–º–∞–º (–∑–∞–∫—Ä—ã–ª–∏ —Ç–µ–º—É ‚Üí —Å–∂–∞–ª–∏)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ summary –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –ø—Ä–æ–º–ø—Ç —Å–∂–∞—Ç–∏—è

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ø–∏–∑–æ–¥—ã

- [Episode 47: Chat History Management](47_chat_history_management.md) ‚Äî –±–∞–∑–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- [Episode 45: LLM Provider Abstraction](45_llm_provider_abstraction.md) ‚Äî BaseLLMProvider –¥–ª—è —Å–∂–∞—Ç–∏—è
- [Episode 44: RAG Engine Architecture](44_rag_engine_architecture.md) ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RAG
