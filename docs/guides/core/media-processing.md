---
title: "Media Processing"
description: "–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∞—É–¥–∏–æ –∏ –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ Gemini Vision"
tags: ["media", "images", "audio", "video", "multimodal"]
difficulty: "intermediate"
prerequisites: ["quickstart", "configuration"]
---

# Media Processing üñºÔ∏è

> –ê–Ω–∞–ª–∏–∑ –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é Gemini Vision API.

---

## –ß—Ç–æ –ø–æ–ª—É—á–∏–º üéØ

- –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ –∏ –≤–∏–¥–µ–æ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ üì¶

```bash
# –° –º–µ–¥–∏–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
poetry install --extras media
```

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç: Pillow, pydub, imageio.

---

## –¢–∏–ø—ã –º–µ–¥–∏–∞ üìä

| –¢–∏–ø | –†–∞—Å—à–∏—Ä–µ–Ω–∏—è | –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä |
|-----|------------|------------|
| Image | jpg, png, gif, webp | `ImageAnalyzer` |
| Audio | mp3, wav, ogg, m4a | `AudioAnalyzer` |
| Video | mp4, avi, mov, mkv | `VideoAnalyzer` |

---

## CLI: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –º–µ–¥–∏–∞ üì•

```bash
# –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å –º–µ–¥–∏–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
semantic ingest ./docs/ -r

# –ë–µ–∑ –º–µ–¥–∏–∞ (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç)
semantic ingest ./docs/ -r --no-media

# –¢–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
semantic ingest ./images/ -p "*.png"
```

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞ üìù

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ–¥–∏–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–∞–Ω–∫ —Å:

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `description` | –ß—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ/–æ —á—ë–º –∞—É–¥–∏–æ |
| `alt_text` | –ö—Ä–∞—Ç–∫–∞—è –ø–æ–¥–ø–∏—Å—å |
| `keywords` | –¢–µ–≥–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ |
| `ocr_text` | –¢–µ–∫—Å—Ç –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ |
| `transcript` | –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∞—É–¥–∏–æ |

---

## –†–µ–∂–∏–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ ‚öôÔ∏è

### Sync (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

```bash
semantic ingest image.png
# –°—Ä–∞–∑—É –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç
```

### Queue + Worker

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å
semantic queue add ./images/ -p "*.png"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–æ—Ä–∫–µ—Ä
semantic worker start
```

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Queue:
- Rate limiting –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π
- –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫
- Batch API —ç–∫–æ–Ω–æ–º–∏—è

---

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–µ–¥–∏–∞ üîß

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Default | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---------|----------|
| Max image size | 1920px | –†–µ—Å–∞–π–∑ –±–æ–ª—å—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |
| Audio bitrate | 64kbps | –°–∂–∞—Ç–∏–µ –¥–ª—è API |
| Video frames | 5 | –ö–∞–¥—Ä–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ |

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ `semantic.toml`:

```toml
[media]
enabled = true
rpm_limit = 15          # –ó–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
max_image_size = 1920   # –ü–∏–∫—Å–µ–ª–µ–π
```

---

## Markdown –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è üìÑ

–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ Markdown –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```markdown
# –î–æ–∫—É–º–µ–Ω—Ç

–í–æ—Ç –¥–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

![Architecture](./images/arch.png)
```

–ü—Ä–∏ `ingest` –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∞—Å—Ç—å—é –ø–æ–∏—Å–∫–∞.

---

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã ‚ö†Ô∏è

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| `Media extras not installed` | `poetry install --extras media` |
| `Rate limit exceeded` | –£–º–µ–Ω—å—à–∏—Ç–µ `rpm_limit` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Queue |
| `Image too large` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ—Å–∞–π–∑–∏—Ç—Å—è |
| `Unsupported format` | –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π |

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ üîó

| –ì–∞–π–¥ | –ß—Ç–æ —É–∑–Ω–∞–µ—Ç–µ |
|------|-------------|
| [Multimodal Concept](../../concepts/07_multimodal.md) | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–µ–¥–∏–∞ |
| [Batch Processing](../../concepts/06_batch_processing.md) | –≠–∫–æ–Ω–æ–º–∏—è —á–µ—Ä–µ–∑ Batch API |
