---
applyTo: "**"
---

POC - Proof of Concept

Доказательство жизнеспособности концепции векрторного поиска а так же гибридного поиска (векторный + по категории) на базе Sqlit + Vec + Полнотекстовый поиск.

Встраивания мы будем получать с помощью API Gemini но в будущем можно будет использовать и другие модели. (настраивать)

Основная цель - понять что это может работать качественно и быстро и для небольших проектов это может быть заменой Postgres + PGVector.

Стек:

- SQLite
- Poetry 2.0 (Нельзя использовать shell - это устарело)
- PeeWee ORM
- Gemini - пайтон клиент для получения встраиваний

## Зависимости проекта

Ниже в таблице указаны основные зависимости проекта вместе с их назначением и идентификаторами Context7 для удобства поиска и управления пакетами.

ТЫ МОЖЕЬ И ДОЛЖЕН ЕСЛИ В ЧЕМ-ТО НЕ УВЕРЕН использовать Context7 ID для поиска в документации по каждому из пакетов.

| Пакет | Назначение | Context7 ID |
|-------|-----------|-------------|
| `peewee` | Легковесная ORM для SQLite | `/coleifer/peewee` |
| `sqlite-vec` | Векторное расширение для SQLite (чистый C) | `/asg017/sqlite-vec` |
| `google-generativeai` | Простое API Gemini через AI Studio | `/googleapis/python-genai` |
| `numpy` | Операции с векторами, сериализация float32 | - |

## Структура проекта

```
core/
│
├── semantic_core/              # <--- ТОТ САМЫЙ РЕЮЗАБЕЛЬНЫЙ ПАКЕТ
│   ├── __init__.py
│   ├── database.py             # Инициализация Peewee, загрузка sqlite-vec, создание FTS/Vec таблиц
│   ├── embeddings.py           # Обертка над Google API (Task Types, MRL)
│   └── search_mixin.py         # "Инъекция логики": Класс-примесь с методами .search(), .hybrid_search()
│
├── domain/                     # Твоя конкретная реализация (Заметки)
│   ├── __init__.py
│   └── models.py               # Описание моделей (Note, Category, Tag) использующих Mixin
│
├── config.py                   # Настройки (API ключи)
└── main.py                     # Скрипт-песочница: наполняем базу и тестируем поиск
```